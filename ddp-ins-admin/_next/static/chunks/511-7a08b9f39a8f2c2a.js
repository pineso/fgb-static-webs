(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[511],{8511:function(e,t,a){"use strict";a.r(t),a.d(t,{ApproveButtonsComponent:function(){return J},default:function(){return M}});var l=a(7568),n=a(6042),r=a(9396),o=a(7582),i=a(5893),c=a(7294),_=a(8999),s=a.n(_),u=a(7083),d=a(8845),p=a(1390),g=a(1163),b=a(1280),m=a(4003),x=a(1676),v=a(6074),h=a(5028),f=a(4812),y=a(4184),C=a.n(y);const w=e=>e?"function"===typeof e?e():e:null;var N=a(3603),j=a(3124),S=a(1781),k=a(2419),E=a(4747),P=a(438),O=a(7414),$=a(8796),D=a(7968),Z=a(5503);const I=e=>{const{componentCls:t,popoverColor:a,titleMinWidth:l,fontWeightStrong:n,popoverPadding:r,boxShadowSecondary:o,colorTextHeading:i,borderRadiusLG:c,zIndexPopup:_,marginXS:s,colorBgElevated:u,popoverBg:d}=e;return[{[t]:Object.assign(Object.assign({},(0,E.Wf)(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:_,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":u,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:d,backgroundClip:"padding-box",borderRadius:c,boxShadow:o,padding:r},[`${t}-title`]:{minWidth:l,marginBottom:s,color:i,fontWeight:n},[`${t}-inner-content`]:{color:a}})},(0,O.ZP)(e,{colorBg:"var(--antd-arrow-background-color)"}),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},W=e=>{const{componentCls:t}=e;return{[t]:$.i.map((a=>{const l=e[`${a}6`];return{[`&${t}-${a}`]:{"--antd-arrow-background-color":l,[`${t}-inner`]:{backgroundColor:l},[`${t}-arrow`]:{background:"transparent"}}}}))}},q=e=>{const{componentCls:t,lineWidth:a,lineType:l,colorSplit:n,paddingSM:r,controlHeight:o,fontSize:i,lineHeight:c,padding:_}=e,s=o-Math.round(i*c);return{[t]:{[`${t}-inner`]:{padding:0},[`${t}-title`]:{margin:0,padding:`${s/2}px ${_}px ${s/2-a}px`,borderBottom:`${a}px ${l} ${n}`},[`${t}-inner-content`]:{padding:`${r}px ${_}px`}}}};var B=(0,D.Z)("Popover",(e=>{const{colorBgElevated:t,colorText:a,wireframe:l}=e,n=(0,Z.TS)(e,{popoverPadding:12,popoverBg:t,popoverColor:a});return[I(n),W(n),l&&q(n),(0,P._y)(n,"zoom-big")]}),(e=>({width:177,minWidth:177,titleMinWidth:177,zIndexPopup:e.zIndexPopupBase+30})),{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]}),L=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a};const z=e=>{const{hashId:t,prefixCls:a,className:l,style:n,placement:r="top",title:o,content:i,children:_}=e;return c.createElement("div",{className:C()(t,a,`${a}-pure`,`${a}-placement-${r}`,l),style:n},c.createElement("div",{className:`${a}-arrow`}),c.createElement(k.G,Object.assign({},e,{className:t,prefixCls:a}),_||((e,t,a)=>{if(t||a)return c.createElement(c.Fragment,null,t&&c.createElement("div",{className:`${e}-title`},w(t)),c.createElement("div",{className:`${e}-inner-content`},w(a)))})(a,o,i)))};var F=e=>{const{prefixCls:t}=e,a=L(e,["prefixCls"]),{getPrefixCls:l}=c.useContext(j.E_),n=l("popover",t),[r,o]=B(n);return r(c.createElement(z,Object.assign({},a,{prefixCls:n,hashId:o})))},G=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a};const T=e=>{let{title:t,content:a,prefixCls:l}=e;return c.createElement(c.Fragment,null,t&&c.createElement("div",{className:`${l}-title`},w(t)),c.createElement("div",{className:`${l}-inner-content`},w(a)))},X=c.forwardRef(((e,t)=>{const{prefixCls:a,title:l,content:n,overlayClassName:r,placement:o="top",trigger:i="hover",mouseEnterDelay:_=.1,mouseLeaveDelay:s=.1,overlayStyle:u={}}=e,d=G(e,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:p}=c.useContext(j.E_),g=p("popover",a),[b,m]=B(g),x=p(),v=C()(r,m);return b(c.createElement(S.Z,Object.assign({placement:o,trigger:i,mouseEnterDelay:_,mouseLeaveDelay:s,overlayStyle:u},d,{prefixCls:g,overlayClassName:v,ref:t,overlay:l||n?c.createElement(T,{prefixCls:g,title:l,content:n}):null,transitionName:(0,N.m)(x,"zoom-big",d.transitionName),"data-popover-inject":!0})))}));X._InternalPanelDoNotUseOrYouWillBeFired=F;var H=X,R=a(6134),A=a(1597),U=[{title:"\uc21c\uc11c",dataIndex:"pageIndex",key:"pageIndex",align:"center"},{title:"\uc815\uc0b0 \uc2e0\uccad\uc77c",dataIndex:"reqCalculateDt",key:"reqCalculateDt",render:function(e){return(0,i.jsx)(i.Fragment,{children:(0,x.aB)(e)})},align:"center"},{title:"\ucd9c\uae08 \uac00\ub2a5 \uae08\uc561",dataIndex:"possibleWithDrawPrice",key:"possibleWithDrawPrice",render:function(e){return(0,i.jsx)(i.Fragment,{children:e.toLocaleString()})},align:"center"},{title:"\uc815\uc0b0 \uc2e0\uccad \uae08\uc561",dataIndex:"reqPrice",key:"reqPrice",render:function(e){return(0,i.jsx)(i.Fragment,{children:e.toLocaleString()})},align:"center"},{title:"\uc138\uae08 \uacc4\uc0b0\uc11c \ubc88\ud638",dataIndex:"taxBillNum",key:"taxBillNum",align:"center"},{title:"\uacb0\uacfc",dataIndex:"status",key:"status",align:"center",render:function(e){return(0,i.jsx)(i.Fragment,{children:e.toLocaleString()})}},{title:"\uc2b9\uc778 \uc5ec\ubd80",key:"approve",dataIndex:"approve",align:"center"}],M=function(){var e=(0,g.useRouter)(),t=(0,c.useState)([]),a=t[0],_=t[1],y=(0,c.useState)({current:1,defaultPageSize:d.Ne,total:0,showSizeChanger:!1,simple:!0}),C=y[0],w=y[1],N=function(){var t=(0,l.Z)((function(t,a){var l,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,b.fp.userApi.getUserCalculateList(t,a,Number(e.query.insid))];case 1:return l=o.sent(),b.m8.isErrorResponse(l)?(b.m8.signChecker(l)&&(alert(d.Xt.NEEDLOGIN),b.m8.removeUserData(),e.push("/signin")),alert(l.message),[2,null]):(c=l.calculateList.map((function(e,a){return(0,r.Z)((0,n.Z)({},e),{pageIndex:a+1+(t-1)*d.Ne,index:a,key:e.seqNum,status:(0,x.AL)(e.status),approve:(0,i.jsx)(J,{index:a,approveHandler:j,denyHandler:S,calculateid:e.seqNum},e.seqNum)})})),_(c),w((function(e){return(0,r.Z)((0,n.Z)({},e),{total:l.total,current:l.page})})),[2,c])}}))}));return function(e,a){return t.apply(this,arguments)}}();(0,p.bd)((0,l.Z)((function(){return(0,o.__generator)(this,(function(t){return e.query.insid&&N(1,d.Ne),[2]}))})),[e.query]),(0,p.bd)((0,l.Z)((function(){var e;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,N(C.current,d.Ne)];case 1:return(e=t.sent())&&_(e),[2]}}))})),[C.current]),(0,c.useEffect)((function(){a&&0!==a.length?w((0,n.Z)({},C)):w((0,r.Z)((0,n.Z)({},C),{current:1,defaultPageSize:C.defaultPageSize,total:0}))}),[a]);var j=function(){var t=(0,l.Z)((function(t,a,l){var n;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return window.confirm("\uc815\uc0b0\uc2e0\uccad\uc744 \uc2b9\uc778\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")?[4,b.fp.userApi.approveCalculate({logContent:"\uc815\uc0b0 \uc2b9\uc778",modifyGroup:"\uc720\uc800 > \uc870\ud68c > \uad00\ub9ac > \uc720\uc800 \uc815\ubcf4",modifyContent:"\uc815\uc0b0\uc2e0\uccad \uc2b9\uc778",insUserServiceSeqNum:Number(e.query.id),calculateSeqNum:l,calculateStatus:1})]:[3,2];case 1:if(n=t.sent(),b.m8.isErrorResponse(n))return b.m8.signChecker(n)&&(alert(d.Xt.NEEDLOGIN),b.m8.removeUserData(),e.push("/signin")),alert(n.message),[2];N(1,d.Ne),t.label=2;case 2:return[2]}}))}));return function(e,a,l){return t.apply(this,arguments)}}(),S=function(){var t=(0,l.Z)((function(t,a,l,n){var r;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,b.fp.userApi.approveCalculate({logContent:a,modifyGroup:"\uc720\uc800 > \uc870\ud68c > \uad00\ub9ac > \uc720\uc800 \uc815\ubcf4",modifyContent:"\uc815\uc0b0\uc2e0\uccad \ubc18\ub824",insUserServiceSeqNum:Number(e.query.id),calculateSeqNum:n,calculateStatus:-1})];case 1:return r=t.sent(),b.m8.isErrorResponse(r)?(b.m8.signChecker(r)&&(alert(d.Xt.NEEDLOGIN),b.m8.removeUserData(),e.push("/signin")),alert(r.message),[2]):(N(1,d.Ne),[2])}}))}));return function(e,a,l,n){return t.apply(this,arguments)}}();return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(u.Z,{titleKey:d.GQ,fetchDataHandler:N,children:(0,i.jsxs)("div",{className:s().container,children:[(0,i.jsx)(v.Z,{className:s().divider}),(0,i.jsx)("div",{className:s().table_title,children:(0,i.jsx)("span",{children:"[ \uc815\uc0b0 \ub0b4\uc5ed \ud45c\uc2dc ]"})}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.ZP,{theme:{components:{Table:{headerBorderRadius:4}}},children:(0,i.jsx)(f.Z,{bordered:!0,columns:U,dataSource:a,pagination:!1})}),(0,i.jsx)(m.Z,{paginationProps:C,onChange:function(e){w((0,r.Z)((0,n.Z)({},C),{current:e}))}})]})]})})})},J=function(e){var t=e.index,a=e.approveHandler,l=e.denyHandler,n=e.insid,r=e.calculateid,o=(0,c.useState)(!1),_=o[0],u=o[1],d=(0,p.Mm)({value:""}),b=(0,g.useRouter)(),m=(0,i.jsx)(R.k,{onClick:function(){a(t,n||Number(b.query.id),r),d.onClear()},children:"O"}),x=(0,i.jsx)(h.ZP,{theme:{token:{colorBgElevated:"#444444",colorText:"white"}},children:(0,i.jsx)(H,{content:(0,i.jsxs)("div",{className:s().deny_popover,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:"\ubc18\ub824 \uc0ac\uc720\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."}),(0,i.jsx)("p",{children:"\ud574\ub2f9 \uc0ac\uc720\ub294 \ub300\uc0c1\uc5d0\uac8c \uba54\uc77c\ub85c \uc804\uc1a1 \ub429\ub2c8\ub2e4."})]}),(0,i.jsx)("p",{children:(0,i.jsx)(A.F,{placeholder:"\ubc18\ub824 \uc0ac\uc720 \uc785\ub825",value:d.value,onChange:d.onChange})}),(0,i.jsxs)("div",{className:s().popover_button_wrapper,children:[(0,i.jsx)(R.k,{onClick:function(){u(!1),d.onClear()},children:"\ucde8\uc18c"}),(0,i.jsx)(R.k,{onClick:function(){l(t,d.value,n,r),u(!1),d.onClear()},children:"\ud655\uc778"})]})]}),open:_,trigger:"click",onOpenChange:function(){u(!_),d.onClear()},title:(0,i.jsx)("div",{style:{textAlign:"center"},children:"\ubc18\ub824 \uc0ac\uc720 \uc785\ub825"}),children:(0,i.jsx)(R.k,{onClick:function(){u(!0)},children:"X"})})});return(0,i.jsxs)("div",{className:s().apporve_wrapper,children:[m,x]})}},8999:function(e){e.exports={button_global:"calculate_button_global__n8AUW",render_btn:"calculate_render_btn__qxhSj",input_global:"calculate_input_global__7r_3u",center_text:"calculate_center_text__cpgKl",input_password_global:"calculate_input_password_global__ZWcLP",select_global:"calculate_select_global__QeJvk",select_dropdown_global:"calculate_select_dropdown_global__bTjO2",table_global:"calculate_table_global__z_7JB","ant-table-selection-column":"calculate_ant-table-selection-column__v82iK","ant-table-row-expand-icon-cell":"calculate_ant-table-row-expand-icon-cell__v1mQG",index_table:"calculate_index_table__XuKHP",sidebar_global:"calculate_sidebar_global__teXIT",sidebar_menu_global:"calculate_sidebar_menu_global__NWXHn",pagination_wrapper:"calculate_pagination_wrapper__CifyX",pagination_nav:"calculate_pagination_nav__WevqY",pagination_total:"calculate_pagination_total__XVrSS",checkbox_global:"calculate_checkbox_global__7FlLi",radio_global:"calculate_radio_global__wDJk_",radioGroup_global:"calculate_radioGroup_global__78DV6",index_container_global:"calculate_index_container_global__VXEvV",index_search_container_global:"calculate_index_search_container_global__ws3gl",index_searchBar_global:"calculate_index_searchBar_global__g88T_",index_content_global:"calculate_index_content_global__lxaDJ",index_content_wrapper_global:"calculate_index_content_wrapper_global__CiqYC",index_table_wrapper_global:"calculate_index_table_wrapper_global___TWcJ",index_table_nav_global:"calculate_index_table_nav_global__o8pgL",index_table_title_global:"calculate_index_table_title_global__88SFS",index_table_title_item_global:"calculate_index_table_title_item_global__DzDz0",index_table_title_item_sort_global:"calculate_index_table_title_item_sort_global__ReDjD",index_table_title_item_label_global:"calculate_index_table_title_item_label_global___WD1F",index_table_title_item_sort_icon_global:"calculate_index_table_title_item_sort_icon_global__LK4mI",sort_asc:"calculate_sort_asc__4DHEo",sort_desc:"calculate_sort_desc__wEcrZ",index_table_data_global:"calculate_index_table_data_global__V3vx6",index_table_item_global:"calculate_index_table_item_global__a01dI",index_table_item_value_global:"calculate_index_table_item_value_global__LiSx2",index_table_item_selected_global:"calculate_index_table_item_selected_global__Z_6qO",index_table_empty_global:"calculate_index_table_empty_global__43WT9",index_table_bottomButton_global:"calculate_index_table_bottomButton_global__TeUPU",index_table_button_new_global:"calculate_index_table_button_new_global__ShGki",index_manageButton_global:"calculate_index_manageButton_global__NyLZf",container:"calculate_container__29oGz",divider:"calculate_divider__4uRyC",table_title:"calculate_table_title__syqxX",apporve_wrapper:"calculate_apporve_wrapper__4AsyP",deny_popover:"calculate_deny_popover__SngP0",popover_button_wrapper:"calculate_popover_button_wrapper__r7_sP"}}}]);