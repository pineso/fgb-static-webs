(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[995],{3946:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/calculate-management",function(){return t(5042)}])},5042:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return E}});var n=t(7568),l=t(6042),_=t(9396),r=t(7582),i=t(5893),o=t(7294),c=t(5993),u=t.n(c),s=t(7083),g=t(8845),m=t(901),d=t(1390),b=t(8357),p=(t(4931),t(1438)),x=t(8668),h=t(1224),v=t(4884),f=function e(){(0,p.Z)(this,e)},y=function(e){(0,x.Z)(t,e);var a=(0,h.Z)(t);function t(){return(0,p.Z)(this,t),a.apply(this,arguments)}return t}(f);(0,r.__decorate)([(0,v.C)(),(0,r.__metadata)("design:type",String)],y.prototype,"access_token",void 0),(0,r.__decorate)([(0,v.C)(),(0,r.__metadata)("design:type",String)],y.prototype,"refresh_token",void 0);var w=function(e){(0,x.Z)(t,e);var a=(0,h.Z)(t);function t(){return(0,p.Z)(this,t),a.apply(this,arguments)}return t}(f);(0,r.__decorate)([(0,v.C)(),(0,r.__metadata)("design:type",String)],w.prototype,"loginId",void 0),(0,r.__decorate)([(0,v.C)(),(0,r.__metadata)("design:type",Number)],w.prototype,"position",void 0),(0,r.__decorate)([(0,v.C)(),(0,r.__metadata)("design:type",Number)],w.prototype,"department",void 0);t(8895);var C=function e(){(0,p.Z)(this,e)};(0,r.__decorate)([(0,v.C)(),(0,r.__metadata)("design:type",Number)],C.prototype,"seqNum",void 0),(0,r.__decorate)([(0,v.C)(),(0,r.__metadata)("design:type",String)],C.prototype,"CreateDt",void 0),(0,r.__decorate)([(0,v.C)(),(0,r.__metadata)("design:type",String)],C.prototype,"UpdateDt",void 0),(0,r.__decorate)([(0,v.C)(),(0,r.__metadata)("design:type",String)],C.prototype,"blockContent",void 0),(0,r.__decorate)([(0,v.C)(),(0,r.__metadata)("design:type",Number)],C.prototype,"blockDays",void 0),(0,r.__decorate)([(0,v.C)(),(0,r.__metadata)("design:type",String)],C.prototype,"register",void 0);var N={keys:["pageIndex","seqNum","activityName","reqCalculateDt","possibleWithDrawPrice","reqPrice","status","approve"]},Z={pageIndex:{label:"Sequence",sorter:!0,align:"center",width:130},seqNum:{label:"Uuid(Puid)",sorter:!0,align:"center",width:130},activityName:{label:"\ud65c\ub3d9\uba85",sorter:!0,align:"center",width:250},reqCalculateDt:{label:"\uc815\uc0b0 \uc2e0\uccad\uc77c",sorter:!0,align:"center",width:250},possibleWithDrawPrice:{label:"\ucd9c\uae08 \uac00\ub2a5 \uae08\uc561",sorter:!0,align:"center",width:250},reqPrice:{label:"\uc815\uc0b0 \uc2e0\uccad \uae08\uc561",sorter:!0,align:"center",width:250},status:{label:"\uacb0\uacfc",sorter:!0,align:"center",width:250},approve:{label:"\uc2b9\uc778 \uc5ec\ubd80",sorter:!0,align:"center",width:250}},S=t(1163),j=t(1280),D=t(4003),k=t(1676),q=t(6074),P=t(8511),E=function(){var e=(0,S.useRouter)(),a=(0,d.Mm)({value:""}),t=(0,d.DB)({value:"activity_name"}),c=(0,o.useState)([]),p=c[0],x=c[1],h=(0,o.useState)({current:1,defaultPageSize:g.Ne,total:0,showSizeChanger:!1,simple:!0}),v=h[0],f=h[1],y=function(){var a=(0,n.Z)((function(a,t,n,o){var c,u;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,j.fp.userApi.getUserCalculateList(a,t,void 0,n,o)];case 1:return c=r.sent(),j.m8.isErrorResponse(c)?(j.m8.signChecker(c)&&(alert(g.Xt.NEEDLOGIN),j.m8.removeUserData(),e.push("/signin")),alert(c.message),[2,null]):(u=c.calculateList.map((function(e,t){return(0,_.Z)((0,l.Z)({},e),{pageIndex:t+1+(a-1)*g.Ne,index:t,key:e.seqNum,approve:(0,i.jsx)(P.ApproveButtonsComponent,{index:t,approveHandler:E,denyHandler:B,insid:e.userServiceSeqNum,calculateid:e.seqNum})})})),x(u),f((function(e){return(0,_.Z)((0,l.Z)({},e),{total:c.total,current:c.page})})),[2,u])}}))}));return function(e,t,n,l){return a.apply(this,arguments)}}();(0,d.bd)((0,n.Z)((function(){return(0,r.__generator)(this,(function(e){return[2]}))})),[]),(0,d.bd)((0,n.Z)((function(){var e;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return[4,y(v.current,g.Ne)];case 1:return(e=a.sent())&&x(e),[2]}}))})),[v.current]),(0,o.useEffect)((function(){p&&0!==p.length?f((0,l.Z)({},v)):f((0,_.Z)((0,l.Z)({},v),{current:1,defaultPageSize:v.defaultPageSize,total:0}))}),[p]);var w=function(){var e=(0,n.Z)((function(){return(0,r.__generator)(this,(function(e){return y(v.current,g.Ne,t.value,a.value),[2]}))}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,n.Z)((function(){return(0,r.__generator)(this,(function(e){return y(v.current,g.Ne),t.onClear(),a.onClear(),[2]}))}));return function(){return e.apply(this,arguments)}}(),E=function(){var a=(0,n.Z)((function(a,t,n){var l;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return window.confirm("\uc815\uc0b0\uc2e0\uccad\uc744 \uc2b9\uc778\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")?[4,j.fp.userApi.approveCalculate({logContent:"\uc815\uc0b0 \uc2b9\uc778",modifyGroup:"\uc720\uc800 > \uc870\ud68c > \uad00\ub9ac > \uc720\uc800 \uc815\ubcf4",modifyContent:"\uc815\uc0b0\uc2e0\uccad \uc2b9\uc778",insUserServiceSeqNum:t,calculateSeqNum:n,calculateStatus:1})]:[3,2];case 1:if(l=a.sent(),j.m8.isErrorResponse(l))return j.m8.signChecker(l)&&(alert(g.Xt.NEEDLOGIN),j.m8.removeUserData(),e.push("/signin")),alert(l.message),[2];y(1,g.Ne),a.label=2;case 2:return[2]}}))}));return function(e,t,n){return a.apply(this,arguments)}}(),B=function(){var a=(0,n.Z)((function(a,t,n,l){var _;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return[4,j.fp.userApi.approveCalculate({logContent:t,modifyGroup:"\uc720\uc800 > \uc870\ud68c > \uad00\ub9ac > \uc720\uc800 \uc815\ubcf4",modifyContent:"\uc815\uc0b0\uc2e0\uccad \ubc18\ub824",insUserServiceSeqNum:n,calculateSeqNum:l,calculateStatus:-1})];case 1:return _=a.sent(),j.m8.isErrorResponse(_)?(j.m8.signChecker(_)&&(alert(g.Xt.NEEDLOGIN),j.m8.removeUserData(),e.push("/signin")),alert(_.message),[2]):(y(1,g.Ne),[2])}}))}));return function(e,t,n,l){return a.apply(this,arguments)}}();return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.Z,{titleKey:g.Tc,fetchDataHandler:y,children:(0,i.jsxs)("div",{className:u().container,children:[(0,i.jsx)(m.Z,{className:u().index_searchBar_global,pageKey:g.Tc,keyword:{value:a.value,onChange:a.onChange},range:{value:t.value,onChange:function(e){t.onChange(e)}},searchHandler:w,resetHandler:C}),(0,i.jsx)(q.Z,{className:u().divider}),(0,i.jsx)("div",{className:u().table_title,children:(0,i.jsx)("span",{children:"\uc815\uc0b0 \ub0b4\uc5ed \ud45c\uc2dc"})}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b.M,{option:"indexTable",tableInfo:N,tableDetails:Z,render:function(e){e.index;var a=e.key,t=e.pm_value;switch(a){case"reqCalculateDt":return(0,i.jsx)(i.Fragment,{children:(0,k.aB)(t)});case"possibleWithDrawPrice":case"reqPrice":return(0,i.jsxs)(i.Fragment,{children:[t.toLocaleString(),"\uc6d0"]});case"status":return(0,i.jsx)(i.Fragment,{children:(0,k.AL)(t)});case"approve":return(0,i.jsx)(i.Fragment,{children:t});default:return"object"!==typeof t||Array.isArray(t)||null===t?(0,i.jsx)("div",{children:t}):(0,i.jsx)("div",{children:JSON.stringify(t)})}},dataSource:p,route:"calculate-management",pagination:(0,_.Z)((0,l.Z)({},v),{className:u().tablePagination})}),(0,i.jsx)(D.Z,{paginationProps:v,onChange:function(e){f((0,_.Z)((0,l.Z)({},v),{current:e}))}})]})]})})})}},5993:function(e){e.exports={button_global:"calculate-management_button_global__o5F7C",render_btn:"calculate-management_render_btn__GLp7I",input_global:"calculate-management_input_global__P3oaN",center_text:"calculate-management_center_text__wyUDh",input_password_global:"calculate-management_input_password_global__nITj_",select_global:"calculate-management_select_global__D9T2K",select_dropdown_global:"calculate-management_select_dropdown_global__TKtMw",table_global:"calculate-management_table_global__7a4K3","ant-table-selection-column":"calculate-management_ant-table-selection-column___gaDl","ant-table-row-expand-icon-cell":"calculate-management_ant-table-row-expand-icon-cell__YERLq",index_table:"calculate-management_index_table__cP3CS",sidebar_global:"calculate-management_sidebar_global__cKo8O",sidebar_menu_global:"calculate-management_sidebar_menu_global__mBRHi",pagination_wrapper:"calculate-management_pagination_wrapper__Ae4jC",pagination_nav:"calculate-management_pagination_nav__deuFi",pagination_total:"calculate-management_pagination_total__cvFxU",checkbox_global:"calculate-management_checkbox_global__Ag6Hx",radio_global:"calculate-management_radio_global__kOtMj",radioGroup_global:"calculate-management_radioGroup_global__7KxLt",index_container_global:"calculate-management_index_container_global__E9r_4",index_search_container_global:"calculate-management_index_search_container_global__TWkq6",index_searchBar_global:"calculate-management_index_searchBar_global__illCA",index_content_global:"calculate-management_index_content_global__SiFB2",index_content_wrapper_global:"calculate-management_index_content_wrapper_global__5aghY",index_table_wrapper_global:"calculate-management_index_table_wrapper_global__PlMRy",index_table_nav_global:"calculate-management_index_table_nav_global__KHuXv",index_table_title_global:"calculate-management_index_table_title_global__e53L5",index_table_title_item_global:"calculate-management_index_table_title_item_global__OUR6o",index_table_title_item_sort_global:"calculate-management_index_table_title_item_sort_global__b8Mk5",index_table_title_item_label_global:"calculate-management_index_table_title_item_label_global__8P8RZ",index_table_title_item_sort_icon_global:"calculate-management_index_table_title_item_sort_icon_global__9MuuV",sort_asc:"calculate-management_sort_asc__R9pwf",sort_desc:"calculate-management_sort_desc__0tgw0",index_table_data_global:"calculate-management_index_table_data_global__PwwTB",index_table_item_global:"calculate-management_index_table_item_global__ZlAU_",index_table_item_value_global:"calculate-management_index_table_item_value_global__zCrVB",index_table_item_selected_global:"calculate-management_index_table_item_selected_global__gQLSG",index_table_empty_global:"calculate-management_index_table_empty_global__m5dH_",index_table_bottomButton_global:"calculate-management_index_table_bottomButton_global__KQsib",index_table_button_new_global:"calculate-management_index_table_button_new_global__Zif1M",index_manageButton_global:"calculate-management_index_manageButton_global__u44uo",container:"calculate-management_container__CzqgT",divider:"calculate-management_divider__OPxhL",table_title:"calculate-management_table_title__EwNCg"}}},function(e){e.O(0,[850,455,635,634,109,289,714,83,280,997,126,90,846,511,774,888,179],(function(){return a=3946,e(e.s=a);var a}));var a=e.O();_N_E=a}]);