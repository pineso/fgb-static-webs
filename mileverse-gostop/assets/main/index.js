System.register("chunks:///_virtual/CAIPlayer.ts",["cc","./CBrain.ts","./CLocalServer.ts","./CCard.ts","./CFloorCardManager.ts","./CPacket.ts","./protocol.ts","./CHelper.ts"],(function(_){var e,t,r,a,o,n,i,p,s,c,h;return{setters:[function(_){e=_.cclegacy},function(_){t=_.CBrain},function(_){r=_.CLocalServer},function(_){a=_.CCard,o=_.PAE_TYPE},function(_){n=_.CFloorCardManager},function(_){i=_.CPacket},function(_){p=_.PROTOCOL,s=_.CARD_EVENT_TYPE,c=_.PLAYER_SELECT_CARD_RESULT},function(_){h=_.CHelper}],execute:function(){e._RF.push({},"0b514B6/89M2o/2qXz6JR1T","CAIPlayer",void 0);_("CAIPlayer",function(){function _(_){var e=this;this.packet_handler=new Map,this.player_index=0,this.hand_cards=void 0,this.brain=void 0,this.floor_card_manager=void 0,this.local_server=void 0,this.local_server=_,this.brain=new t,this.hand_cards=[],this.floor_card_manager=new n,this.reset(),this.packet_handler=new Map,this.packet_handler.set(p.LOCAL_SERVER_STARTED,(function(_){e.ON_LOCAL_SERVER_STARTED(_)})),this.packet_handler.set(p.BEGIN_CARD_INFO,(function(_){e.ON_BEGIN_CARD_INFO(_)})),this.packet_handler.set(p.START_TURN,(function(_){e.ON_START_TURN(_)})),this.packet_handler.set(p.SELECT_CARD_ACK,(function(_){e.ON_SELECT_CARD_ACK(_)})),this.packet_handler.set(p.FLIP_DECK_CARD_ACK,(function(_){e.ON_FLIP_DECK_CARD_ACK(_)})),this.packet_handler.set(p.TURN_RESULT,(function(_){e.ON_TURN_RESULT(_)})),this.packet_handler.set(p.ASK_GO_OR_STOP,(function(_){e.ON_ASK_GO_OR_STOP(_)})),this.packet_handler.set(p.ASK_KOOKJIN_TO_PEE,(function(_){e.ON_ASK_KOOKJIN_TO_PEE(_)})),this.packet_handler.set(p.GAME_RESULT,(function(_){e.ON_GAME_RESULT(_)}))}var e=_.prototype;return e.reset=function(){this.hand_cards=[],this.floor_card_manager.reset()},e.is_me=function(_){return this.player_index==_},e.send=function(_){var e=r.pre_send(_);i.destroy(_),this.on_receive(e)},e.on_receive=function(_){var e=_.pop_protocol_id();this.packet_handler.get(e)&&this.packet_handler.get(e)(_)},e.ON_LOCAL_SERVER_STARTED=function(_){this.send_ready_to_start()},e.ON_BEGIN_CARD_INFO=function(_){this.player_index=_.pop_byte();for(var e=_.pop_byte(),t=0;t<e;++t){var r=_.pop_byte(),n=_.pop_byte(),s=_.pop_byte(),c=new a(r,n,s);this.floor_card_manager.puton_card(c)}for(var h=_.pop_byte(),f=0;f<h;++f){_.pop_byte();for(var E=_.pop_byte(),d=0;d<E;++d){var v=_.pop_byte(),u=o.KWANG,l=Number.MAX_VALUE;if(v!=Number.MAX_VALUE){u=_.pop_byte(),l=_.pop_byte();var R=new a(v,u,l);this.hand_cards.push(R)}}}var O=i.create(p.DISTRIBUTED_ALL_CARDS);this.local_server.on_receive_from_ai(O)},e.update_floor_cards=function(_){this.floor_card_manager.reset();for(var e=_.pop_byte(),t=0;t<e;++t)for(var r=_.pop_byte(),o=0;o<r;++o){var n=_.pop_byte(),i=_.pop_byte(),p=_.pop_byte();this.floor_card_manager.puton_card(new a(n,i,p))}},e.ON_START_TURN=function(_){var e=_.pop_byte();if(this.update_floor_cards(_),e>0){var t=i.create(p.FLIP_BOMB_CARD_REQ);this.local_server.on_receive_from_ai(t)}else{var r=this.brain.choice_card_to_put(this.hand_cards,null,this.floor_card_manager),a=i.create(p.SELECT_CARD_REQ),o=this.hand_cards[r];a.push(o.number),a.push(o.pae_type),a.push(o.position),a.push(r);a.push(1),this.local_server.on_receive_from_ai(a)}},e.ON_SELECT_CARD_ACK=function(_){var e=this,t=(_.pop_byte(),_.pop_byte());if(this.is_me(t)){s.NONE;var r=Number.MAX_VALUE;o.PEE;_.pop_byte(),_.pop_byte(),_.pop_byte();_.pop_byte();switch(r=_.pop_byte(),_.pop_byte()){case s.BOMB:for(var a=_.pop_byte(),n=function(){var t=_.pop_byte(),r=_.pop_byte(),a=_.pop_byte(),o=e.hand_cards.find((function(_){return _.is_same(t,r,a)}));h.Remove(e.hand_cards,o)},f=0;f<a;++f)n();break;case s.SHAKING:for(var E=_.pop_byte(),d=0;d<E;++d)_.pop_byte(),_.pop_byte(),_.pop_byte();h.RemoveAt(this.hand_cards,r);break;default:h.RemoveAt(this.hand_cards,r)}var v=_.pop_byte();if(v==c.CHOICE_ONE_CARD_FROM_PLAYER){for(var u=_.pop_byte(),l=0;l<u;++l)_.pop_byte(),_.pop_byte(),_.pop_byte();var R=i.create(p.CHOOSE_CARD);return R.push(v),R.push(0),void this.local_server.on_receive_from_ai(R)}var O=i.create(p.FLIP_DECK_CARD_REQ);this.local_server.on_receive_from_ai(O)}},e.ON_FLIP_DECK_CARD_ACK=function(_){var e=_.pop_byte(),t=(_.pop_byte(),_.pop_byte(),_.pop_byte(),_.pop_byte(),_.pop_byte());if(t==c.CHOICE_ONE_CARD_FROM_DECK){if(this.is_me(e)){var r=i.create(p.CHOOSE_CARD);r.push(t),r.push(0),this.local_server.on_receive_from_ai(r)}}else{var a=i.create(p.TURN_END);this.local_server.on_receive_from_ai(a)}},e.ON_TURN_RESULT=function(_){var e=i.create(p.TURN_END);this.local_server.on_receive_from_ai(e)},e.ON_ASK_GO_OR_STOP=function(_){var e=_.pop_byte(),t=i.create(p.ANSWER_GO_OR_STOP);t.push(e>3?0:1),this.local_server.on_receive_from_ai(t)},e.ON_ASK_KOOKJIN_TO_PEE=function(_){var e=i.create(p.ANSWER_KOOKJIN_TO_PEE);e.push(1),this.local_server.on_receive_from_ai(e)},e.ON_GAME_RESULT=function(_){this.send_ready_to_start()},e.send_ready_to_start=function(){var _=i.create(p.READY_TO_START);this.local_server.on_receive_from_ai(_)},_}());e._RF.pop()}}}));

System.register("chunks:///_virtual/CBrain.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"db2aeQaZWpOR4wFlgru1mSE","CBrain",void 0);n("CBrain",function(){function n(){}return n.prototype.choice_card_to_put=function(n,t,r){for(var e=[],u=0;u<n.length;++u){r.get_same_number_card_count(n[u].number)>=1&&e.push(u)}return e.length<=0?0:e[0]},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/CCard.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"aa9898A3MZCF5/zP7+ARJO2","CCard",void 0);var s=t("PAE_TYPE",function(t){return t[t.PEE=0]="PEE",t[t.KWANG=1]="KWANG",t[t.TEE=2]="TEE",t[t.YEOL=3]="YEOL",t}({})),i=t("CARD_STATUS",function(t){return t[t.NONE=0]="NONE",t[t.GODORI=1]="GODORI",t[t.TWO_PEE=2]="TWO_PEE",t[t.CHEONG_DAN=3]="CHEONG_DAN",t[t.HONG_DAN=4]="HONG_DAN",t[t.CHO_DAN=5]="CHO_DAN",t[t.KOOKJIN=6]="KOOKJIN",t}({}));t("CCard",function(){function t(t,n,e){this._number=0,this._pae_type=s.PEE,this._position=1,this._status=i.GODORI,this._number=t,this._pae_type=n,this._position=e,this._status=i.NONE}var e=t.prototype;return e.set_card_status=function(t){this._status=t},e.change_pae_type=function(t){this._pae_type=t},t.is_bonus_card=function(t){return 13==t},e.is_same=function(t,n,e){return this.number==t&&this.pae_type==n&&this.position==e},e.is_same_number=function(t){return this.number==t},e.is_same_status=function(t){return this.status==t},n(t,[{key:"number",get:function(){return this._number}},{key:"pae_type",get:function(){return this._pae_type}},{key:"position",get:function(){return this._position}},{key:"status",get:function(){return this._status}}]),t}()).BEE_KWANG=11,e._RF.pop()}}}));

System.register("chunks:///_virtual/CCardManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCard.ts","./CHelper.ts"],(function(s){var h,E,t,u,a,p;return{setters:[function(s){h=s.createClass},function(s){E=s.cclegacy},function(s){t=s.PAE_TYPE,u=s.CCard,a=s.CARD_STATUS},function(s){p=s.CHelper}],execute:function(){E._RF.push({},"dc228WbqzZEmoKiPVVTZX80","CCardManager",void 0);s("CCardManager",function(){function s(){this._cards=[]}var E=s.prototype;return E.make_all_cards=function(){var s=[];s.push(t.KWANG),s.push(t.TEE),s.push(t.PEE),s.push(t.PEE),s.push(t.YEOL),s.push(t.TEE),s.push(t.PEE),s.push(t.PEE),s.push(t.KWANG),s.push(t.TEE),s.push(t.PEE),s.push(t.PEE),s.push(t.YEOL),s.push(t.TEE),s.push(t.PEE),s.push(t.PEE),s.push(t.YEOL),s.push(t.TEE),s.push(t.PEE),s.push(t.PEE),s.push(t.YEOL),s.push(t.TEE),s.push(t.PEE),s.push(t.PEE),s.push(t.YEOL),s.push(t.TEE),s.push(t.PEE),s.push(t.PEE),s.push(t.KWANG),s.push(t.YEOL),s.push(t.PEE),s.push(t.PEE),s.push(t.YEOL),s.push(t.TEE),s.push(t.PEE),s.push(t.PEE),s.push(t.YEOL),s.push(t.TEE),s.push(t.PEE),s.push(t.PEE),s.push(t.KWANG),s.push(t.PEE),s.push(t.PEE),s.push(t.PEE),s.push(t.KWANG),s.push(t.YEOL),s.push(t.TEE),s.push(t.PEE),this._cards=[];for(var h=0;h<12;++h)for(var E=0;E<4;++E)this.cards.push(new u(h,s.shift(),E))},E.set_allcard_status=function(){this.apply_card_status(1,t.YEOL,0,a.GODORI),this.apply_card_status(3,t.YEOL,0,a.GODORI),this.apply_card_status(7,t.YEOL,1,a.GODORI),this.apply_card_status(5,t.TEE,1,a.CHEONG_DAN),this.apply_card_status(8,t.TEE,1,a.CHEONG_DAN),this.apply_card_status(9,t.TEE,1,a.CHEONG_DAN),this.apply_card_status(0,t.TEE,1,a.HONG_DAN),this.apply_card_status(1,t.TEE,1,a.HONG_DAN),this.apply_card_status(2,t.TEE,1,a.HONG_DAN),this.apply_card_status(3,t.TEE,1,a.CHO_DAN),this.apply_card_status(4,t.TEE,1,a.CHO_DAN),this.apply_card_status(6,t.TEE,1,a.CHO_DAN),this.apply_card_status(10,t.PEE,1,a.TWO_PEE),this.apply_card_status(11,t.PEE,3,a.TWO_PEE),this.apply_card_status(8,t.YEOL,0,a.KOOKJIN)},E.apply_card_status=function(s,h,E,t){this.find_card(s,h,E).set_card_status(t)},E.shuffle=function(){p.Shuffle(this.cards),this.set_allcard_status()},E.find_card=function(s,h,E){return this._cards.find((function(t){return t.is_same(s,h,E)}))},E.TEST_MAKE_SHAKING_CARDS=function(){this._cards=[],this._cards.push(new u(3,t.PEE,3)),this._cards.push(new u(10,t.KWANG,0)),this._cards.push(new u(5,t.PEE,2)),this._cards.push(new u(9,t.PEE,2)),this._cards.push(new u(10,t.PEE,2)),this._cards.push(new u(5,t.YEOL,0)),this._cards.push(new u(4,t.YEOL,0)),this._cards.push(new u(0,t.PEE,2)),this._cards.push(new u(1,t.PEE,2)),this._cards.push(new u(4,t.PEE,2)),this._cards.push(new u(9,t.TEE,1)),this._cards.push(new u(6,t.TEE,1)),this._cards.push(new u(1,t.PEE,3)),this._cards.push(new u(7,t.PEE,2)),this._cards.push(new u(2,t.PEE,2)),this._cards.push(new u(2,t.TEE,1)),this._cards.push(new u(3,t.YEOL,0)),this._cards.push(new u(2,t.PEE,3)),this._cards.push(new u(6,t.YEOL,0)),this._cards.push(new u(0,t.TEE,1)),this._cards.push(new u(5,t.PEE,3)),this._cards.push(new u(0,t.KWANG,0)),this._cards.push(new u(8,t.TEE,1)),this._cards.push(new u(1,t.TEE,1)),this._cards.push(new u(7,t.KWANG,0)),this._cards.push(new u(7,t.PEE,3)),this._cards.push(new u(11,t.KWANG,0)),this._cards.push(new u(10,t.PEE,3)),this._cards.push(new u(4,t.PEE,3)),this._cards.push(new u(5,t.TEE,1)),this._cards.push(new u(0,t.PEE,3)),this._cards.push(new u(11,t.TEE,2)),this._cards.push(new u(8,t.PEE,2)),this._cards.push(new u(11,t.PEE,3)),this._cards.push(new u(2,t.KWANG,0)),this._cards.push(new u(6,t.PEE,3)),this._cards.push(new u(3,t.PEE,2)),this._cards.push(new u(9,t.PEE,3)),this._cards.push(new u(1,t.YEOL,0)),this._cards.push(new u(4,t.TEE,1)),this._cards.push(new u(3,t.TEE,1)),this._cards.push(new u(8,t.PEE,3)),this._cards.push(new u(6,t.PEE,2)),this._cards.push(new u(11,t.YEOL,1)),this._cards.push(new u(8,t.YEOL,0)),this._cards.push(new u(9,t.YEOL,0)),this._cards.push(new u(10,t.PEE,1)),this._cards.push(new u(7,t.YEOL,1))},E.TEST_MAKE_KOOKJIN_CARDS=function(){this._cards=[],this._cards.push(new u(11,t.KWANG,0)),this._cards.push(new u(1,t.TEE,1)),this._cards.push(new u(8,t.PEE,2)),this._cards.push(new u(6,t.PEE,2)),this._cards.push(new u(0,t.PEE,2)),this._cards.push(new u(0,t.TEE,1)),this._cards.push(new u(8,t.PEE,3)),this._cards.push(new u(4,t.YEOL,0)),this._cards.push(new u(3,t.PEE,2)),this._cards.push(new u(10,t.PEE,1)),this._cards.push(new u(0,t.KWANG,0)),this._cards.push(new u(1,t.YEOL,0)),this._cards.push(new u(1,t.PEE,3)),this._cards.push(new u(1,t.PEE,2)),this._cards.push(new u(9,t.YEOL,0)),this._cards.push(new u(3,t.YEOL,0)),this._cards.push(new u(5,t.TEE,1)),this._cards.push(new u(11,t.PEE,3)),this._cards.push(new u(6,t.PEE,3)),this._cards.push(new u(2,t.PEE,2)),this._cards.push(new u(10,t.PEE,3)),this._cards.push(new u(0,t.PEE,3)),this._cards.push(new u(2,t.KWANG,0)),this._cards.push(new u(9,t.TEE,1)),this._cards.push(new u(8,t.TEE,1)),this._cards.push(new u(7,t.KWANG,0)),this._cards.push(new u(6,t.TEE,1)),this._cards.push(new u(11,t.TEE,2)),this._cards.push(new u(3,t.PEE,3)),this._cards.push(new u(5,t.PEE,3)),this._cards.push(new u(2,t.TEE,1)),this._cards.push(new u(9,t.PEE,3)),this._cards.push(new u(7,t.YEOL,1)),this._cards.push(new u(4,t.TEE,1)),this._cards.push(new u(11,t.YEOL,1)),this._cards.push(new u(7,t.PEE,3)),this._cards.push(new u(3,t.TEE,1)),this._cards.push(new u(6,t.YEOL,0)),this._cards.push(new u(2,t.PEE,3)),this._cards.push(new u(9,t.PEE,2)),this._cards.push(new u(5,t.PEE,2)),this._cards.push(new u(8,t.YEOL,0)),this._cards.push(new u(10,t.PEE,2)),this._cards.push(new u(7,t.PEE,2)),this._cards.push(new u(4,t.PEE,2)),this._cards.push(new u(4,t.PEE,3)),this._cards.push(new u(5,t.YEOL,0)),this._cards.push(new u(10,t.KWANG,0))},E.TEST_MAKE_BOMB_CARDS=function(){this._cards=[],this._cards.push(new u(3,t.YEOL,0)),this._cards.push(new u(1,t.YEOL,0)),this._cards.push(new u(7,t.YEOL,1)),this._cards.push(new u(5,t.TEE,1)),this._cards.push(new u(3,t.PEE,3)),this._cards.push(new u(3,t.PEE,2)),this._cards.push(new u(3,t.TEE,1)),this._cards.push(new u(8,t.PEE,2)),this._cards.push(new u(9,t.PEE,2)),this._cards.push(new u(4,t.PEE,3)),this._cards.push(new u(5,t.YEOL,0)),this._cards.push(new u(2,t.KWANG,0)),this._cards.push(new u(0,t.PEE,2)),this._cards.push(new u(10,t.PEE,3)),this._cards.push(new u(4,t.YEOL,0)),this._cards.push(new u(11,t.PEE,3)),this._cards.push(new u(0,t.PEE,3)),this._cards.push(new u(11,t.KWANG,0)),this._cards.push(new u(7,t.PEE,3)),this._cards.push(new u(2,t.PEE,2)),this._cards.push(new u(11,t.TEE,2)),this._cards.push(new u(6,t.YEOL,0)),this._cards.push(new u(0,t.KWANG,0)),this._cards.push(new u(7,t.PEE,2)),this._cards.push(new u(8,t.PEE,3)),this._cards.push(new u(0,t.TEE,1)),this._cards.push(new u(4,t.TEE,1)),this._cards.push(new u(8,t.TEE,1)),this._cards.push(new u(2,t.PEE,3)),this._cards.push(new u(5,t.PEE,2)),this._cards.push(new u(6,t.PEE,2)),this._cards.push(new u(10,t.PEE,2)),this._cards.push(new u(5,t.PEE,3)),this._cards.push(new u(2,t.TEE,1)),this._cards.push(new u(8,t.YEOL,0)),this._cards.push(new u(6,t.TEE,1)),this._cards.push(new u(1,t.TEE,1)),this._cards.push(new u(1,t.PEE,2)),this._cards.push(new u(1,t.PEE,3)),this._cards.push(new u(7,t.KWANG,0)),this._cards.push(new u(10,t.KWANG,0)),this._cards.push(new u(11,t.YEOL,1)),this._cards.push(new u(10,t.PEE,1)),this._cards.push(new u(9,t.TEE,1)),this._cards.push(new u(4,t.PEE,2)),this._cards.push(new u(9,t.YEOL,0)),this._cards.push(new u(9,t.PEE,3)),this._cards.push(new u(6,t.PEE,3))},E.TEST_MAKE_KISS_CARDS=function(){this._cards=[],this._cards.push(new u(3,t.YEOL,0)),this._cards.push(new u(1,t.YEOL,0)),this._cards.push(new u(7,t.YEOL,1)),this._cards.push(new u(5,t.TEE,1)),this._cards.push(new u(3,t.PEE,3)),this._cards.push(new u(3,t.PEE,2)),this._cards.push(new u(3,t.TEE,1)),this._cards.push(new u(8,t.PEE,2)),this._cards.push(new u(9,t.PEE,2)),this._cards.push(new u(4,t.PEE,3)),this._cards.push(new u(5,t.YEOL,0)),this._cards.push(new u(2,t.KWANG,0)),this._cards.push(new u(0,t.PEE,2)),this._cards.push(new u(10,t.PEE,3)),this._cards.push(new u(4,t.YEOL,0)),this._cards.push(new u(11,t.PEE,3)),this._cards.push(new u(0,t.PEE,3)),this._cards.push(new u(11,t.KWANG,0)),this._cards.push(new u(7,t.PEE,3)),this._cards.push(new u(2,t.PEE,2)),this._cards.push(new u(11,t.TEE,2)),this._cards.push(new u(6,t.YEOL,0)),this._cards.push(new u(0,t.KWANG,0)),this._cards.push(new u(7,t.PEE,2)),this._cards.push(new u(8,t.PEE,3)),this._cards.push(new u(0,t.TEE,1)),this._cards.push(new u(4,t.TEE,1)),this._cards.push(new u(8,t.TEE,1)),this._cards.push(new u(8,t.YEOL,0)),this._cards.push(new u(2,t.PEE,3)),this._cards.push(new u(5,t.PEE,2)),this._cards.push(new u(6,t.PEE,2)),this._cards.push(new u(10,t.PEE,2)),this._cards.push(new u(5,t.PEE,3)),this._cards.push(new u(2,t.TEE,1)),this._cards.push(new u(6,t.TEE,1)),this._cards.push(new u(1,t.TEE,1)),this._cards.push(new u(1,t.PEE,2)),this._cards.push(new u(1,t.PEE,3)),this._cards.push(new u(7,t.KWANG,0)),this._cards.push(new u(10,t.KWANG,0)),this._cards.push(new u(11,t.YEOL,1)),this._cards.push(new u(10,t.PEE,1)),this._cards.push(new u(9,t.TEE,1)),this._cards.push(new u(4,t.PEE,2)),this._cards.push(new u(9,t.YEOL,0)),this._cards.push(new u(9,t.PEE,3)),this._cards.push(new u(6,t.PEE,3))},E.TEST_MAKE_PPUK_CARDS=function(){this._cards=[],this._cards.push(new u(3,t.YEOL,0)),this._cards.push(new u(1,t.YEOL,0)),this._cards.push(new u(7,t.YEOL,1)),this._cards.push(new u(5,t.TEE,1)),this._cards.push(new u(3,t.PEE,3)),this._cards.push(new u(3,t.PEE,2)),this._cards.push(new u(3,t.TEE,1)),this._cards.push(new u(8,t.PEE,2)),this._cards.push(new u(9,t.PEE,2)),this._cards.push(new u(4,t.PEE,3)),this._cards.push(new u(5,t.YEOL,0)),this._cards.push(new u(2,t.KWANG,0)),this._cards.push(new u(0,t.PEE,2)),this._cards.push(new u(10,t.PEE,3)),this._cards.push(new u(4,t.YEOL,0)),this._cards.push(new u(11,t.PEE,3)),this._cards.push(new u(0,t.PEE,3)),this._cards.push(new u(11,t.KWANG,0)),this._cards.push(new u(7,t.PEE,3)),this._cards.push(new u(2,t.PEE,2)),this._cards.push(new u(11,t.TEE,2)),this._cards.push(new u(6,t.YEOL,0)),this._cards.push(new u(0,t.KWANG,0)),this._cards.push(new u(7,t.PEE,2)),this._cards.push(new u(8,t.PEE,3)),this._cards.push(new u(8,t.YEOL,0)),this._cards.push(new u(4,t.TEE,1)),this._cards.push(new u(8,t.TEE,1)),this._cards.push(new u(0,t.TEE,1)),this._cards.push(new u(2,t.PEE,3)),this._cards.push(new u(5,t.PEE,2)),this._cards.push(new u(6,t.PEE,2)),this._cards.push(new u(10,t.PEE,2)),this._cards.push(new u(5,t.PEE,3)),this._cards.push(new u(2,t.TEE,1)),this._cards.push(new u(6,t.TEE,1)),this._cards.push(new u(1,t.TEE,1)),this._cards.push(new u(1,t.PEE,2)),this._cards.push(new u(1,t.PEE,3)),this._cards.push(new u(7,t.KWANG,0)),this._cards.push(new u(10,t.KWANG,0)),this._cards.push(new u(11,t.YEOL,1)),this._cards.push(new u(10,t.PEE,1)),this._cards.push(new u(9,t.TEE,1)),this._cards.push(new u(4,t.PEE,2)),this._cards.push(new u(9,t.YEOL,0)),this._cards.push(new u(9,t.PEE,3)),this._cards.push(new u(6,t.PEE,3))},E.TEST_MAKE_CLEAN_CARDS=function(){this._cards=[],this._cards.push(new u(1,t.YEOL,0)),this._cards.push(new u(1,t.TEE,1)),this._cards.push(new u(2,t.KWANG,0)),this._cards.push(new u(2,t.PEE,2)),this._cards.push(new u(1,t.PEE,3)),this._cards.push(new u(3,t.TEE,1)),this._cards.push(new u(5,t.TEE,1)),this._cards.push(new u(8,t.PEE,2)),this._cards.push(new u(5,t.YEOL,0)),this._cards.push(new u(2,t.TEE,1)),this._cards.push(new u(4,t.TEE,1)),this._cards.push(new u(9,t.PEE,2)),this._cards.push(new u(7,t.YEOL,1)),this._cards.push(new u(0,t.PEE,2)),this._cards.push(new u(3,t.PEE,3)),this._cards.push(new u(3,t.YEOL,0)),this._cards.push(new u(4,t.PEE,3)),this._cards.push(new u(4,t.YEOL,0)),this._cards.push(new u(10,t.PEE,3)),this._cards.push(new u(11,t.PEE,3)),this._cards.push(new u(0,t.PEE,3)),this._cards.push(new u(11,t.KWANG,0)),this._cards.push(new u(7,t.PEE,3)),this._cards.push(new u(11,t.TEE,2)),this._cards.push(new u(6,t.YEOL,0)),this._cards.push(new u(0,t.KWANG,0)),this._cards.push(new u(7,t.PEE,2)),this._cards.push(new u(8,t.PEE,3)),this._cards.push(new u(1,t.PEE,2)),this._cards.push(new u(2,t.PEE,3)),this._cards.push(new u(3,t.PEE,2)),this._cards.push(new u(4,t.PEE,2)),this._cards.push(new u(8,t.YEOL,0)),this._cards.push(new u(8,t.TEE,1)),this._cards.push(new u(0,t.TEE,1)),this._cards.push(new u(5,t.PEE,2)),this._cards.push(new u(6,t.PEE,2)),this._cards.push(new u(10,t.PEE,2)),this._cards.push(new u(5,t.PEE,3)),this._cards.push(new u(6,t.TEE,1)),this._cards.push(new u(7,t.KWANG,0)),this._cards.push(new u(10,t.KWANG,0)),this._cards.push(new u(11,t.YEOL,1)),this._cards.push(new u(10,t.PEE,1)),this._cards.push(new u(9,t.TEE,1)),this._cards.push(new u(9,t.YEOL,0)),this._cards.push(new u(9,t.PEE,3)),this._cards.push(new u(6,t.PEE,3))},E.make_test_cards=function(){},E.fill_to=function(s){this._cards.forEach((function(h){return s.push(h)}))},h(s,[{key:"cards",get:function(){return this._cards}}]),s}());E._RF.pop()}}}));

System.register("chunks:///_virtual/CCardPicture.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n,i,s,o,c;return{setters:[function(t){e=t.inheritsLoose,r=t.createClass},function(t){n=t.cclegacy,i=t._decorator,s=t.Sprite,o=t.Button,c=t.Component}],execute:function(){var a;n._RF.push({},"3a7a2zNmt5Iyp91Emf7jusy","CCardPicture",void 0);var u=i.ccclass;i.property,t("CCardPicture",u("CCardPicture")(a=function(t){function n(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this)._card=void 0,e._sprite_renderer=void 0,e._slot=0,e.btn=void 0,e}e(n,t);var i=n.prototype;return i.onLoad=function(){this._sprite_renderer=this.node.getComponentInChildren(s),this.btn=this.node.getComponentInChildren(o)},i.set_slot_index=function(t){this._slot=t},i.update_card=function(t,e){this._card=t,this.sprite_renderer.spriteFrame=e},i.update_backcard=function(t){this._card=null,this.update_image(t)},i.update_image=function(t){this.sprite_renderer.spriteFrame=t},i.is_sameByNumber=function(t){return this.card.number==t},i.is_same=function(t,e,r){return this.card.is_same(t,e,r)},i.on_touch=function(){},i.enable_collider=function(t){this.btn.interactable=t},i.is_back_card=function(){return null==this.card},r(n,[{key:"card",get:function(){return this._card}},{key:"sprite_renderer",get:function(){return this._sprite_renderer}},{key:"slot",get:function(){return this._slot}}]),n}(c))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/CDelayedDeactive.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,a,o,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.Component}],execute:function(){var l,s,u;a._RF.push({},"2f5adFAslNGH7WMYvnmqOyi","CDelayedDeactive",void 0);var p=o.ccclass,y=o.property;e("CDelayedDeactive",p("CDelayedDeactive")((u=t((s=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"delay",u,n(t)),t.timer=Number.MAX_VALUE,t}return i(t,e),t.prototype.onEnable=function(){var e=this;this.timer!==Number.MAX_VALUE&&(clearTimeout(this.timer),this.timer=Number.MAX_VALUE),setTimeout((function(){e.node.active=!1}),1e3*this.delay)},t}(c)).prototype,"delay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=s))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/CEffectManager.ts",["cc","./protocol.ts","./CHelper.ts"],(function(e){var t,f,n,i;return{setters:[function(e){t=e.cclegacy,f=e.Animation},function(e){n=e.CARD_EVENT_TYPE},function(e){i=e.CHelper}],execute:function(){t._RF.push({},"78e29iOO2pMJb35jVi8iZyq","CEffectManager",void 0);var a=e("CEffectManager",function(){function e(){}return e.load_effects=function(e){var t=this;this.parent=e,this.effects=new Map,this.load_effect(n.KISS,"ef_kiss"),this.load_effect(n.BOMB,"ef_explosion"),this.load_effect(n.PPUK,"ef_ppuk"),this.load_effect(n.CLEAN,"ef_clean"),this.load_effect(n.DDADAK,"ef_ddadak"),i.InstantiatePrefab("effects/ef_dust",(function(e){t.dust=e,t.dust.active=!1}))},e.load_effect=function(e,t){var f=this;this.effects.get(e)&&console.error("Already added this effect.  event type "+e+", effect name "+t),i.InstantiatePrefab("effects/"+t,(function(t){var n=t;n.parent=f.parent,n.active=!1,f.effects.set(e,n)}))},e.play=function(e){var t=this.effects.get(e);if(t){t.active=!0;var n=t.getComponent(f);n&&n.play(),setTimeout((function(){t.active=!1}),2500)}},e.play_dust=function(e,t,f){},e}());a.effects=void 0,a.dust=void 0,a.timer=Number.MAX_VALUE,a.parent=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/CFloorCardManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CHelper.ts","./CCard.ts","./CFloorSlot.ts"],(function(t){var s,r,n,i,o;return{setters:[function(t){s=t.createClass},function(t){r=t.cclegacy},function(t){n=t.CHelper},function(t){i=t.CCard},function(t){o=t.CFloorSlot}],execute:function(){r._RF.push({},"7b1ca0L2TZJ8Ih2Q3hceH8+","CFloorCardManager",void 0);t("CFloorCardManager",function(){function t(){this.begin_cards=[],this._slots=[],this._slots=[];for(var t=0;t<12;++t)this.slots.push(new o(t));this.begin_cards=[]}var r=t.prototype;return r.reset=function(){this.begin_cards=[];for(var t=0;t<12;++t)this.slots[t].reset()},r.put_to_begin_card=function(t){this.begin_cards.push(t)},r.find_empty_slot=function(){return this.slots.find((function(t){return t.is_empty()}))},r.find_slot=function(t){return this.slots.find((function(s){return s.is_same(t)}))},r.puton_card=function(t){var s=this.find_slot(t.number);s?this.slots[s.slot_position].add_card(t):(s=this.find_empty_slot()).add_card(t)},r.remove_card=function(t){var s=this.find_slot(t.number);null!=s&&s.remove_card(t)},r.get_same_number_card_count=function(t){var s=this.find_slot(t);return s?s.cards.length:0},r.get_first_card=function(t){var s=this.find_slot(t);return s?s.cards[0]:null},r.get_cards=function(t){var s=this.find_slot(t);return s?s.cards:null},r.pop_bonus_cards=function(){for(var t=[],s=0;s<this.begin_cards.length;++s)i.is_bonus_card(this.begin_cards[s].number)&&t.push(this.begin_cards[s]);for(var r=0;r<t.length;++r)n.Remove(this.begin_cards,t[r]);return t},r.refresh_floor_cards=function(){for(var t=0;t<this.begin_cards.length;++t)this.puton_card(this.begin_cards[t]);this.begin_cards=[]},r.validate_floor_card_counts=function(){for(var t=0,s=0;s<this.slots.length;++s)t+=this.slots[s].cards.length;return 8==t},r.is_empty=function(){for(var t=0;t<this.slots.length;++t)if(!this.slots[t].is_empty())return!1;return!0},s(t,[{key:"slots",get:function(){return this._slots}}]),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/CFloorSlot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CHelper.ts"],(function(t){var s,o,r;return{setters:[function(t){s=t.createClass},function(t){o=t.cclegacy},function(t){r=t.CHelper}],execute:function(){o._RF.push({},"a0073orAj1J+px0DLjbLrt4","CFloorSlot",void 0);t("CFloorSlot",function(){function t(t){this._slot_position=0,this._cards=[],this._cards=[],this._slot_position=t,this.reset()}var o=t.prototype;return o.reset=function(){this._cards=[]},o.is_same=function(t){return!(this.cards.length<=0)&&this.cards[0].number==t},o.add_card=function(t){this.cards.push(t)},o.remove_card=function(t){r.CheckRemove(this.cards,t)},o.is_empty=function(){return this.cards.length<=0},s(t,[{key:"slot_position",get:function(){return this._slot_position}},{key:"cards",get:function(){return this._cards}}]),t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/CGameRoom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CPlayerOrderManager.ts","./CCard.ts","./CGostopEngine.ts","./CPacket.ts","./CRestApi.ts","./protocol.ts","./CUIManager.ts"],(function(e){var r,t,s,n,_,i,a,o,h,p,c,l,d;return{setters:[function(e){r=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy},function(e){s=e.CPlayerOrderManager},function(e){n=e.PAE_TYPE},function(e){_=e.CGostopEngine},function(e){i=e.CPacket},function(e){a=e.CRestApi},function(e){o=e.PROTOCOL,h=e.TURN_RESULT_TYPE,p=e.PLAYER_SELECT_CARD_RESULT,c=e.CARD_EVENT_TYPE},function(e){l=e.CUIManager,d=e.UI_PAGE}],execute:function(){t._RF.push({},"5c686vBZ3xIeqn2wHhrnz/M","CGameRoom",void 0);e("CGameRoom",function(){function e(e){this.server=void 0,this.engine=void 0,this.players=void 0,this.received_protocol=void 0,this.order_manager=void 0,this.server=e,this.engine=new _,this.players=[],this.received_protocol=new Map,this.order_manager=new s}var t=e.prototype;return t.add_player=function(e){this.players.push(e)},t.reset=function(){this.engine.reset();for(var e=0;e<this.players.length;++e)this.players[e].reset();this.order_manager.reset(this.engine)},t.is_received=function(e,r){return!!this.received_protocol.get(e)&&this.received_protocol[e]==r},t.checked_protocol=function(e,r){this.received_protocol.get(e)?console.error("Already contains player. Please call 'clear_received_protocol()' before send to client."):this.received_protocol.set(e,r)},t.all_received=function(e){if(this.received_protocol.size<this.players.length)return!1;for(var t,s=r(this.received_protocol);!(t=s()).done;){if(t.value[1]!=e)return!1}return this.clear_received_protocol(),!0},t.clear_received_protocol=function(){this.received_protocol.clear()},t.on_receive=function(e,r){var t=r.pop_protocol_id();if(!this.is_received(e.player_index,t))switch(this.checked_protocol(e.player_index,t),t){case o.READY_TO_START:this.on_ready_req();break;case o.DISTRIBUTED_ALL_CARDS:if(this.all_received(t)){var s=i.create(o.START_TURN);s.push(0),s.push(0),this.players[this.engine.current_player_index].send(s)}break;case o.SELECT_CARD_REQ:var n=r.pop_byte(),_=r.pop_byte(),a=r.pop_byte(),c=r.pop_byte(),l=r.pop_byte();this.on_player_put_card(e.player_index,n,_,a,c,l);break;case o.CHOOSE_CARD:this.clear_received_protocol();var d=r.pop_byte(),u=r.pop_byte();if(this.engine.on_choose_card(e.player_index,d,u)==p.CHOICE_ONE_CARD_FROM_PLAYER){var g=this.engine.flip_process(e.player_index,h.RESULT_OF_NORMAL_CARD);this.send_flip_result(g,this.engine.current_player_index)}else this.send_turn_result(this.engine.current_player_index);break;case o.FLIP_BOMB_CARD_REQ:if(this.clear_received_protocol(),this.engine.current_player_index!=e.player_index)break;if(!e.agent.decrease_bomb_count()){console.error("Invalid bomb count!! player "+e.player_index);break}var y=this.engine.flip_process(e.player_index,h.RESULT_OF_BOMB_CARD);this.send_flip_result(y,this.engine.current_player_index);break;case o.FLIP_DECK_CARD_REQ:this.clear_received_protocol();var f=this.engine.flip_process(this.engine.current_player_index,h.RESULT_OF_NORMAL_CARD);this.send_flip_result(f,this.engine.current_player_index);break;case o.TURN_END:if(!this.all_received(o.TURN_END))break;if(this.engine.has_kookjin(this.engine.current_player_index)){var v=i.create(o.ASK_KOOKJIN_TO_PEE);this.players[this.engine.current_player_index].send(v)}else this.check_game_finish();break;case o.ANSWER_KOOKJIN_TO_PEE:this.clear_received_protocol(),e.agent.kookjin_selected(),1==r.pop_byte()&&(e.agent.move_kookjin_to_pee(),this.send_player_statistics(e.player_index),this.broadcast_move_kookjin(e.player_index)),this.check_game_finish();break;case o.ANSWER_GO_OR_STOP:this.clear_received_protocol(),1==r.pop_byte()?(e.agent.plus_go_count(),this.broadcast_go_count(e),this.next_turn()):this.broadcast_game_result(e)}},t.broadcast_go_count=function(e){for(var r=this.get_aiplayer_delay(e),t=0;t<this.players.length;++t){var s=i.create(o.NOTIFY_GO_COUNT);s.push(r),s.push(e.agent.go_count),this.players[t].send(s)}},t.broadcast_game_result=function(e){var r=e===this.players[0],t=this.players[0],s=this.players[1];r||(t=this.players[1],s=this.players[0]);var _=1;s.agent.go_count>0&&(_*=2),t.agent.go_count>2&&(_*=2*(t.agent.go_count-2)),t.agent.shaking_count>0&&(_*=2),t.agent.get_pee_count()>9&&s.agent.get_pee_count()<8&&(_*=2);var h=t.agent.find_cards(n.KWANG);h&&h.length>2&&((h=s.agent.find_cards(n.KWANG))&&0!==h.length||(_*=2));var p=t.agent.score*_,c=a.LastMoneyPerPoint*p;r||(c*=-1);for(var l=0;l<this.players.length;++l){var d=i.create(o.GAME_RESULT);d.push(r?1:0),d.push(c),d.push(t.agent.score),d.push(_),d.push(p),this.players[l].send(d)}},t.broadcast_move_kookjin=function(e){for(var r=0;r<this.players.length;++r){var t=i.create(o.MOVE_KOOKJIN_TO_PEE);t.push(e),this.players[r].send(t)}},t.check_game_finish=function(){this.engine.is_time_to_ask_gostop()?this.engine.is_last_turn()?this.broadcast_game_result(this.players[this.engine.current_player_index]):(this.send_player_statistics(this.engine.current_player_index),this.send_go_or_stop()):this.engine.is_finished()?l.Instance.show(d.POPUP_GAME_RESULT_NAGARI):this.next_turn()},t.send_go_or_stop=function(){var e=i.create(o.ASK_GO_OR_STOP),r=this.players[0===this.engine.current_player_index?1:0];r.agent.calculate_score(),e.push(r.agent.score),this.players[this.engine.current_player_index].send(e)},t.next_turn=function(){this.send_player_statistics(this.engine.current_player_index),this.engine.clear_turn_data(),this.engine.move_to_next_player();var e=i.create(o.START_TURN);e.push(this.players[this.engine.current_player_index].agent.remain_bomb_count);var r=this.engine.floor_manager.slots;e.push(r.length);for(var t=0;t<r.length;++t){e.push(r[t].cards.length);for(var s=0;s<r[t].cards.length;++s){var n=r[t].cards[s];e.push(n.number),e.push(n.pae_type),e.push(n.position)}}this.players[this.engine.current_player_index].send(e)},t.on_ready_req=function(){if(this.all_received(o.READY_TO_START)){var e=Number.MAX_VALUE,r=-1;this.reset();var t=i.create(o.PLAYER_ORDER_RESULT);t.push(this.order_manager.random_cards.length);for(var s=[].concat(this.order_manager.random_cards),n=0;n<this.order_manager.random_cards.length;++n){var _=s[n];t.push(n),t.push(_.number),t.push(_.pae_type),t.push(_.position),r<_.number&&(r=_.number,e=n)}for(var a=0;a<this.players.length;++a)this.players[a].send(t);this.engine.start(this.players,e);for(var h=0;h<this.players.length;++h)this.send_cardinfo_to_player(this.players[h])}},t.send_cardinfo_to_player=function(e){var r=this.engine.distributed_floor_cards.length,t=i.create(o.BEGIN_CARD_INFO);t.push(e.player_index),t.push(r);for(var s=0;s<r;++s)t.push(this.engine.distributed_floor_cards[s].number),t.push(this.engine.distributed_floor_cards[s].pae_type),t.push(this.engine.distributed_floor_cards[s].position);t.push(this.players.length);for(var n=0;n<this.players.length;++n){var _=this.players[n].player_index,a=this.engine.distributed_players_cards[_].length;if(t.push(_),t.push(a),e.player_index==_)for(var h=0;h<a;++h)t.push(this.engine.distributed_players_cards[_][h].number),t.push(this.engine.distributed_players_cards[_][h].pae_type),t.push(this.engine.distributed_players_cards[_][h].position);else for(var p=0;p<a;++p)t.push(Number.MAX_VALUE)}e.send(t)},t.on_player_put_card=function(e,r,t,s,n,_){var i=this.engine.player_put_card(e,r,t,s,n,_);i!=p.ERROR_INVALID_CARD&&(this.clear_received_protocol(),this.send_select_card_ack(i,e,n))},t.send_select_card_ack=function(e,r,t){for(var s=this.get_aiplayer_delay(this.players[r]),n=0;n<this.players.length;++n){var _=i.create(o.SELECT_CARD_ACK);_.push(s),_.push(r),this.add_player_select_result_to(_,t),_.push(e),e==p.CHOICE_ONE_CARD_FROM_PLAYER&&this.add_choice_card_info_to(_),this.players[n].send(_)}},t.send_turn_result=function(e){for(var r=0;r<this.players.length;++r){var t=i.create(o.TURN_RESULT);t.push(e),this.add_player_get_cards_info_to(t),this.add_others_card_result_to(t),this.add_turn_result_to(t,e),this.players[r].send(t)}},t.send_flip_result=function(e,r){for(var t=0;t<this.players.length;++t){var s=i.create(o.FLIP_DECK_CARD_ACK);s.push(r),this.add_flip_result_to(s),s.push(e),e==p.CHOICE_ONE_CARD_FROM_DECK?this.add_choice_card_info_to(s):(this.add_player_get_cards_info_to(s),this.add_others_card_result_to(s),this.add_turn_result_to(s,r)),this.players[t].send(s)}},t.add_player_select_result_to=function(e,r){switch(e.push(this.engine.card_from_player.number),e.push(this.engine.card_from_player.pae_type),e.push(this.engine.card_from_player.position),e.push(this.engine.same_card_count_with_player),e.push(r),e.push(this.engine.card_event_type),this.engine.card_event_type){case c.BOMB:var t=this.engine.bomb_cards_from_player.length;e.push(t);for(var s=0;s<t;++s)e.push(this.engine.bomb_cards_from_player[s].number),e.push(this.engine.bomb_cards_from_player[s].pae_type),e.push(this.engine.bomb_cards_from_player[s].position);break;case c.SHAKING:var n=this.engine.shaking_cards.length;e.push(n);for(var _=0;_<n;++_)e.push(this.engine.shaking_cards[_].number),e.push(this.engine.shaking_cards[_].pae_type),e.push(this.engine.shaking_cards[_].position)}},t.add_flip_result_to=function(e){e.push(this.engine.card_from_deck.number),e.push(this.engine.card_from_deck.pae_type),e.push(this.engine.card_from_deck.position),e.push(this.engine.same_card_count_with_deck)},t.add_player_get_cards_info_to=function(e){var r=this.engine.cards_to_give_player.length;e.push(r);for(var t=0;t<r;++t){var s=this.engine.cards_to_give_player[t];e.push(s.number),e.push(s.pae_type),e.push(s.position)}},t.add_others_card_result_to=function(e){e.push(this.engine.other_cards_to_player.size);for(var t,s=r(this.engine.other_cards_to_player);!(t=s()).done;){var n=t.value;e.push(n[0]);var _=this.engine.other_cards_to_player.get(n[0]).length;e.push(_);for(var i=0;i<_;++i){var a=this.engine.other_cards_to_player.get(n[0])[i];e.push(a.number),e.push(a.pae_type),e.push(a.position)}}},t.add_turn_result_to=function(e,r){e.push(this.players[r].agent.score),e.push(this.players[r].agent.remain_bomb_count);var t=this.engine.flipped_card_event_type.length;e.push(t);for(var s=0;s<t;++s)e.push(this.engine.flipped_card_event_type[s])},t.add_choice_card_info_to=function(e){var r=this.engine.target_cards_to_choice,t=r.length;e.push(t);for(var s=0;s<t;++s){var n=r[s];e.push(n.number),e.push(n.pae_type),e.push(n.position)}},t.send_player_statistics=function(e){var r=this.players[e].agent;r.calculate_score();for(var t=0;t<this.players.length;++t){var s=i.create(o.UPDATE_PLAYER_STATISTICS);s.push(e),s.push(r.score),s.push(r.go_count),s.push(r.shaking_count),s.push(r.ppuk_count),s.push(r.get_pee_count()),this.players[t].send(s)}},t.get_aiplayer_delay=function(e){var r=0;return e.is_autoplayer()&&(r=1),r},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/CGostopEngine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCardManager.ts","./protocol.ts","./CHelper.ts","./CCard.ts","./CFloorCardManager.ts"],(function(_){var r,t,e,a,s,i,o,c,d,n;return{setters:[function(_){r=_.createClass},function(_){t=_.cclegacy},function(_){e=_.CCardManager},function(_){a=_.TURN_RESULT_TYPE,s=_.CARD_EVENT_TYPE,i=_.PLAYER_SELECT_CARD_RESULT},function(_){o=_.CHelper},function(_){c=_.CARD_STATUS,d=_.PAE_TYPE},function(_){n=_.CFloorCardManager}],execute:function(){t._RF.push({},"9d673vYLHtKFbrJyhXkak8N","CGostopEngine",void 0);_("CGostopEngine",function(){function _(){this.card_manager=void 0,this.card_queue=void 0,this.first_player_index=void 0,this.player_agents=void 0,this._floor_manager=void 0,this._turn_result_type=void 0,this._card_from_player=void 0,this._selected_slot_index=0,this._card_from_deck=void 0,this._bomb_cards_from_player=void 0,this._target_cards_to_choice=void 0,this._same_card_count_with_player=0,this._same_card_count_with_deck=0,this._card_event_type=void 0,this._flipped_card_event_type=void 0,this._cards_to_give_player=void 0,this._cards_to_floor=void 0,this._other_cards_to_player=void 0,this._shaking_cards=void 0,this.expected_result_type=void 0,this._current_player_index=0,this._distributed_floor_cards=void 0,this._distributed_players_cards=void 0,this.MAX_PLAYER_COUNT=2,this.first_player_index=0,this._floor_manager=new n,this.card_manager=new e,this.player_agents=[],this._distributed_floor_cards=[],this._distributed_players_cards=[],this._cards_to_give_player=[],this._cards_to_floor=[],this._other_cards_to_player=new Map,this._current_player_index=0,this._flipped_card_event_type=[],this._bomb_cards_from_player=[],this._target_cards_to_choice=[],this._shaking_cards=[],this.card_queue=[],this.clear_turn_data()}var t=_.prototype;return t.reset=function(){this.player_agents.forEach((function(_){return _.reset()})),this.first_player_index=0,this._current_player_index=this.first_player_index,this.card_manager.make_all_cards(),this._distributed_floor_cards=[],this._distributed_players_cards=[],this.floor_manager.reset(),this.clear_turn_data()},t.clear_turn_data=function(){this._turn_result_type=a.RESULT_OF_NORMAL_CARD,this._card_from_player=null,this._selected_slot_index=Number.MAX_VALUE,this._card_from_deck=null,this._target_cards_to_choice=[],this._same_card_count_with_player=0,this._same_card_count_with_deck=0,this._card_event_type=s.NONE,this._flipped_card_event_type=[],this._cards_to_give_player=[],this._cards_to_floor=[],this._other_cards_to_player.clear(),this._bomb_cards_from_player=[],this.expected_result_type=i.ERROR_INVALID_CARD,this._shaking_cards=[]},t.start=function(_,r){this.first_player_index=this.MAX_PLAYER_COUNT-1-r,this._current_player_index=this.first_player_index,this.player_agents=[];for(var t=0;t<_.length;++t)this.player_agents.push(_[t].agent),this.player_agents[t].reset(),this.distributed_players_cards.push([]);this.shuffle(),this.distribute_cards();for(var e=0;e<this.player_agents.length;++e)this.player_agents[e].sort_player_hand_slots()},t.shuffle=function(){this.card_manager.shuffle(),this.card_queue=[],this.card_manager.fill_to(this.card_queue)},t.distribute_cards=function(){for(var _=this.first_player_index,r=0;r<2;++r){for(var t=0;t<4;++t){var e=this.pop_front_card();this.distributed_floor_cards.push(e),this.floor_manager.put_to_begin_card(e)}for(var a=0;a<5;++a){var s=this.pop_front_card();this.distributed_players_cards[_].push(s),this.player_agents[_].add_card_to_hand(s)}_=this.find_next_player_index_of(_);for(var i=0;i<5;++i){var o=this.pop_front_card();this.distributed_players_cards[_].push(o),this.player_agents[_].add_card_to_hand(o)}_=this.find_next_player_index_of(_)}if(this.check_bonus_cards(),this.floor_manager.refresh_floor_cards(),!this.floor_manager.validate_floor_card_counts())throw new Error("Invalid floor card count!!")},t.get_next_player_index=function(){return this.current_player_index<this.MAX_PLAYER_COUNT-1?this.current_player_index+1:0},t.move_to_next_player=function(){this._current_player_index=this.get_next_player_index()},t.find_next_player_index_of=function(_){return _<this.MAX_PLAYER_COUNT-1?_+1:0},t.check_bonus_cards=function(){for(var _=this.floor_manager.pop_bonus_cards();_.length>0;){for(var r=0;r<_.length;++r){this.player_agents[0].add_card_to_floor(_[r]);var t=this.pop_front_card();this.distributed_floor_cards.push(t),this.floor_manager.put_to_begin_card(t)}_=[],_=this.floor_manager.pop_bonus_cards()}},t.pop_front_card=function(){return this.card_queue.shift()},t.player_put_card=function(_,r,t,e,a,o){this._selected_slot_index=a;var d=this.player_agents[_].pop_card_from_hand(r,t,e);if(null==d)return console.error("invalid card! "+r+", "+t+", "+e),i.ERROR_INVALID_CARD;this._card_from_player=d;var n=this.floor_manager.get_cards(d.number);switch(this._same_card_count_with_player=null!=n?n.length:0,this.same_card_count_with_player){case 0:if(1==o)2==this.player_agents[_].get_same_card_count_from_hand(this.card_from_player.number)&&(this._card_event_type=s.SHAKING,this.player_agents[_].plus_shaking_count(),this._shaking_cards=this.player_agents[_].find_same_cards_from_hand(this.card_from_player.number),this.shaking_cards.push(this.card_from_player));break;case 1:if(2==this.player_agents[_].get_same_card_count_from_hand(this.card_from_player.number)){this._card_event_type=s.BOMB,this.get_current_player().plus_shaking_count(),this.cards_to_give_player.push(this.card_from_player),this.cards_to_give_player.push(n[0]),this.bomb_cards_from_player.push(this.card_from_player);for(var h=this.player_agents[_].pop_all_cards_from_hand(this.card_from_player.number),p=0;p<h.length;++p)this.cards_to_give_player.push(h[p]),this.bomb_cards_from_player.push(h[p]);this.take_cards_from_others(1),this.player_agents[_].add_bomb_count(2)}else this.cards_to_give_player.push(this.card_from_player),this.cards_to_give_player.push(n[0]);break;case 2:if(n[0].pae_type!=n[1].pae_type||n[0].status===c.TWO_PEE||n[1].status===c.TWO_PEE){this._target_cards_to_choice=[];for(var l=0;l<n.length;++l)this.target_cards_to_choice.push(n[l]);return this.expected_result_type=i.CHOICE_ONE_CARD_FROM_PLAYER,i.CHOICE_ONE_CARD_FROM_PLAYER}this.cards_to_give_player.push(this.card_from_player),this.cards_to_give_player.push(n[0]);break;case 3:this._card_event_type=s.EAT_PPUK,this.cards_to_give_player.push(d);for(var u=0;u<n.length;++u)this.cards_to_give_player.push(n[u]);this.take_cards_from_others(1)}return i.COMPLETED},t.flip_process=function(_,r){this._turn_result_type=r;var t=Number.MAX_VALUE;this.turn_result_type==a.RESULT_OF_NORMAL_CARD&&(t=this.card_from_player.number);var e=this.flip_deck_card(t);return e!=i.COMPLETED?e:(this.after_flipped_card(_),i.COMPLETED)},t.after_flipped_card=function(_){var r=this;(this.give_floor_cards_to_player(_),this.calculate_players_score(),null!=this.card_from_player)&&(this.cards_to_give_player.find((function(_){return _.is_same(r.card_from_player.number,r.card_from_player.pae_type,r.card_from_player.position)}))||(this.floor_manager.puton_card(this.card_from_player),this.cards_to_floor.push(this.card_from_player)));this.cards_to_give_player.find((function(_){return _.is_same(r.card_from_deck.number,r.card_from_deck.pae_type,r.card_from_deck.position)}))||(this.floor_manager.puton_card(this.card_from_deck),this.cards_to_floor.push(this.card_from_deck)),this.floor_manager.is_empty()&&(this.flipped_card_event_type.push(s.CLEAN),this.take_cards_from_others(1)),this.calculate_players_score()},t.flip_deck_card=function(_){this._card_from_deck=this.pop_front_card();var r=this.floor_manager.get_cards(this.card_from_deck.number);switch(this._same_card_count_with_deck=null!=r?r.length:0,this.same_card_count_with_deck){case 0:_==this.card_from_deck.number&&(this.flipped_card_event_type.push(s.KISS),this._cards_to_give_player=[],this.cards_to_give_player.push(this.card_from_player),this.cards_to_give_player.push(this.card_from_deck),this.take_cards_from_others(1));break;case 1:_==this.card_from_deck.number?(this.flipped_card_event_type.push(s.PPUK),this.get_current_player().plus_ppuk_count(),this._cards_to_give_player=[]):(this.cards_to_give_player.push(this.card_from_deck),this.cards_to_give_player.push(r[0]));break;case 2:if(this.card_from_deck.number==_){this.flipped_card_event_type.push(s.DDADAK),this._cards_to_give_player=[];for(var t=0;t<r.length;++t)this.cards_to_give_player.push(r[t]);this.cards_to_give_player.push(this.card_from_deck),this.cards_to_give_player.push(this.card_from_player),this.take_cards_from_others(2)}else{if(r[0].pae_type!=r[1].pae_type){this._target_cards_to_choice=[];for(var e=0;e<r.length;++e)this.target_cards_to_choice.push(r[e]);return this.expected_result_type=i.CHOICE_ONE_CARD_FROM_DECK,i.CHOICE_ONE_CARD_FROM_DECK}this.cards_to_give_player.push(this.card_from_deck),this.cards_to_give_player.push(r[0])}break;case 3:for(var a=0;a<r.length;++a)this.cards_to_give_player.push(r[a]);this.cards_to_give_player.push(this.card_from_deck),this.take_cards_from_others(1)}return i.COMPLETED},t.on_choose_card=function(_,r,t){r!=this.expected_result_type&&console.error("Invalid result type. client "+r+", expected "+this.expected_result_type);var e=null;e=this.target_cards_to_choice.length<=t?this.target_cards_to_choice[0]:this.target_cards_to_choice[t];var a=i.COMPLETED;switch(this.expected_result_type){case i.CHOICE_ONE_CARD_FROM_PLAYER:return this.cards_to_give_player.push(this.card_from_player),this.cards_to_give_player.push(e),this.expected_result_type;case i.CHOICE_ONE_CARD_FROM_DECK:this.cards_to_give_player.push(this.card_from_deck),this.cards_to_give_player.push(e),this.after_flipped_card(_)}return a},t.give_floor_cards_to_player=function(_){for(var r=0;r<this.cards_to_give_player.length;++r)this.player_agents[_].add_card_to_floor(this.cards_to_give_player[r]),this.floor_manager.remove_card(this.cards_to_give_player[r])},t.calculate_players_score=function(){for(var _=0;_<this.player_agents.length;++_)this.player_agents[_].calculate_score()},t.take_cards_from_others=function(_){var r=this.player_agents[this.current_player_index],t=this.get_next_player_index(),e=this.player_agents[t];this.other_cards_to_player.get(t)||this.other_cards_to_player.set(t,[]);var a=e.pop_card_from_floor(_);if(null!=a)for(var s=0;s<a.length;++s)r.add_card_to_floor(a[s]),this.other_cards_to_player.get(t).push(a[s])},t.is_time_to_ask_gostop=function(){return this.player_agents[this.current_player_index].can_finish()},t.is_last_turn=function(){return this.card_queue.length<=1},t.is_finished=function(){return this.card_queue.length<=0},t.has_kookjin=function(_){return!this.player_agents[_].is_used_kookjin&&!(this.player_agents[_].get_card_count(d.YEOL,c.KOOKJIN)<=0)},t.get_current_player=function(){return this.player_agents[this.current_player_index]},t.get_random_cards=function(_){for(var r=[],t=0;t<this.card_manager.cards.length;++t)r.push(this.card_manager.cards[t]);for(var e=[],a=0;a<_;++a){var s=o.Range(0,r.length);e.push(r[s]),o.Remove(r,r[s])}return e},r(_,[{key:"floor_manager",get:function(){return this._floor_manager}},{key:"turn_result_type",get:function(){return this._turn_result_type}},{key:"card_from_player",get:function(){return this._card_from_player}},{key:"selected_slot_index",get:function(){return this._selected_slot_index}},{key:"card_from_deck",get:function(){return this._card_from_deck}},{key:"bomb_cards_from_player",get:function(){return this._bomb_cards_from_player}},{key:"target_cards_to_choice",get:function(){return this._target_cards_to_choice}},{key:"same_card_count_with_player",get:function(){return this._same_card_count_with_player}},{key:"same_card_count_with_deck",get:function(){return this._same_card_count_with_deck}},{key:"card_event_type",get:function(){return this._card_event_type}},{key:"flipped_card_event_type",get:function(){return this._flipped_card_event_type}},{key:"cards_to_give_player",get:function(){return this._cards_to_give_player}},{key:"cards_to_floor",get:function(){return this._cards_to_floor}},{key:"other_cards_to_player",get:function(){return this._other_cards_to_player}},{key:"shaking_cards",get:function(){return this._shaking_cards}},{key:"current_player_index",get:function(){return this._current_player_index}},{key:"distributed_floor_cards",get:function(){return this._distributed_floor_cards}},{key:"distributed_players_cards",get:function(){return this._distributed_players_cards}}]),_}());t._RF.pop()}}}));

System.register("chunks:///_virtual/CHelper.ts",["cc"],(function(n){var e,t,r,o;return{setters:[function(n){e=n.cclegacy,t=n.resources,r=n.Prefab,o=n.instantiate}],execute:function(){e._RF.push({},"f822d2XfdlG753LnUI4CBFM","CHelper",void 0);n("CHelper",function(){function n(){}return n.Random=function(n){return Math.floor(Math.random()*n)},n.Range=function(n,e){var t=e-n;return n+Math.floor(Math.random()*t)},n.Shuffle=function(e){for(var t=e.length;t>1;){t--;var r=n.Random(t+1),o=e[r];e[r]=e[t],e[t]=o}},n.CheckRemove=function(n,e){var t=n.indexOf(e);t<0||n.splice(t,1)},n.Remove=function(n,e){var t=n.indexOf(e);if(t<0)throw console.error(n,e),new Error("Found not element.");n.splice(t,1)},n.RemoveAt=function(n,e){if(e>=n.length)throw new Error("overflow!");n.splice(e,1)},n.LoadPrefab=function(n,e){t.load(n,r,(function(t,r){if(t)throw new Error("Failed to load prefab. (Path: "+n+")");e(r)}))},n.InstantiatePrefab=function(e,t){n.LoadPrefab(e,(function(n){var e=o(n);t(e)}))},n.Clamp01=function(n){return Math.max(Math.min(n,1),0)},n.Delay=function(n){return new Promise(n<=0?function(n){n()}:function(e){setTimeout((function(){e()}),1e3*n)})},n.SetTimer=function(n,e){return setTimeout((function(){e()}),n)},n.ClearTimer=function(n){return n!==Number.MAX_VALUE&&clearTimeout(n),Number.MAX_VALUE},n.RequestAnimFrame=function(n,e){!function t(){e&&e()||requestAnimationFrame((function(){n(),t()}))}()},n.SetTopOrder=function(n){var e=n.node.parent;n.node.parent=null,n.node.parent=e},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/CHome.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CRestApi.ts"],(function(e){var t,n,o,r,i,a,s,c,u;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){r=e.cclegacy,i=e._decorator,a=e.Button,s=e.director,c=e.Component},function(e){u=e.CRestApi}],execute:function(){var h;r._RF.push({},"30192gXKkJCUoVZ678Kabvp","CHome",void 0);var g=i.ccclass;i.property,e("CHome",g("CHome")(h=function(e){function r(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).user=void 0,t.money=0,t.errDiag=void 0,t}t(r,e);var i=r.prototype;return i.start=function(){var e=n(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams(location.search),n=t.get("token"),e.next=4,u.user(n);case 4:return this.user=e.sent,this.money=this.user?this.user.u_game_money:0,e.next=8,u.gameInfo();case 8:r=e.sent,console.log(r),this.initBoard(this.node.getChildByName("Board")),this.initErrDiag(this.node.getChildByName("ErrDiag")),this.node.getChildByName("Button").getComponent(a).node.on(a.EventType.CLICK,this.onMileToMoney,this);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.initBoard=function(e){for(var t=this,n=[100,1e3,1e4,1e5,1e6],o=function(o){e.getChildByName("Slot0"+o).getChildByName("Button").getComponent(a).node.on(a.EventType.CLICK,(function(){t.onEnter(n[o-1])}),t)},r=1;r<6;++r)o(r)},i.initErrDiag=function(e){var t=this;this.errDiag=e,this.errDiag.getChildByPath("Back/Button").getComponent(a).node.on(a.EventType.CLICK,(function(){t.errDiag.active=!1}),this)},i.showError=function(){this.errDiag.active=!0},i.onEnter=function(e){this.money<e?this.showError():(u.LastMoneyPerPoint=e,s.loadScene("start"))},i.onMileToMoney=function(){s.loadScene("mtm")},r}(c))||h);r._RF.pop()}}}));

System.register("chunks:///_virtual/CLocalServer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CGameRoom.ts","./CPlayer.ts","./CPacket.ts","./protocol.ts"],(function(e){var r,o,t,s,a,n,i;return{setters:[function(e){r=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy},function(e){t=e.CGameRoom},function(e){s=e.CPlayer,a=e.PLAYER_TYPE},function(e){n=e.CPacket},function(e){i=e.PROTOCOL}],execute:function(){o._RF.push({},"0e28f26hOxH4oAKU8GzpNL/","CLocalServer",void 0);e("CLocalServer",function(){function e(){var e=this;this.appcallback_on_message=[],this.game_room=void 0,this.players=void 0,this.players=[],this.players.push(new s(0,a.HUMAN,(function(r){e.send(r)}),this)),this.players.push(new s(1,a.AI,null,this)),this.game_room=new t(this);for(var r=0;r<this.players.length;++r)this.game_room.add_player(this.players[r])}var o=e.prototype;return o.start_localserver=function(){for(var r=0;r<this.players.length;++r){var o=n.create(i.LOCAL_SERVER_STARTED),t=e.pre_send(o);this.players[r].send(t)}},e.pre_send=function(e){var r=n.create(e.protocol_id);return r.overwrite(e.buffer,0),r},o.send=function(o){var t=e.pre_send(o);n.destroy(o);for(var s,a=r(this.appcallback_on_message);!(s=a()).done;){(0,s.value)(t)}},o.on_receive_from_client=function(e){var r=n.create(e.protocol_id);r.overwrite(e.buffer,0),this.game_room.on_receive(this.players[0],r)},o.on_receive_from_ai=function(e){var r=n.create(e.protocol_id);r.overwrite(e.buffer,0),this.game_room.on_receive(this.players[1],r)},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/CMovingObject.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CHelper.ts","./EasingUtil.ts"],(function(n){var e,o,t,r,i,c,s,a;return{setters:[function(n){e=n.inheritsLoose},function(n){o=n.cclegacy,t=n._decorator,r=n.Sprite,i=n.math,c=n.Component},function(n){s=n.CHelper},function(n){a=n.EasingUtil}],execute:function(){var u;o._RF.push({},"fb05aDkfE9KYqJRRbKZrD4Y","CMovingObject",void 0);var p=t.ccclass;n("CMovingObject",p("CMovingObject")(u=function(n){function o(){for(var e,o=arguments.length,t=new Array(o),r=0;r<o;r++)t[r]=arguments[r];return(e=n.call.apply(n,[this].concat(t))||this).begin=void 0,e.to=void 0,e.duration=1,e.sprite_renderer=void 0,e}e(o,n);var t=o.prototype;return t.onLoad=function(){this.sprite_renderer=this.node.getComponentInChildren(r)},t.run=function(){this.run_moving()},t.run_moving=function(){var n=this;s.SetTopOrder(this.sprite_renderer);var e=performance.now(),o=0;s.RequestAnimFrame((function(){var t=(o=performance.now()-e)/n.duration,r=a.easeInExpo(n.begin.x,n.to.x,t),c=a.easeInExpo(n.begin.y,n.to.y,t);n.node.worldPosition=new i.Vec3(r,c,n.begin.z)}),(function(){return o>n.duration&&(n.node.worldPosition=n.to,!0)}))},o}(c))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/CMTM.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CRestApi.ts"],(function(t){var e,n,i,r,o,a,s,h,c,u,p,d;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator,s=t.Button,h=t.Label,c=t.Toggle,u=t.Component,p=t.director},function(t){d=t.CRestApi}],execute:function(){var g;o._RF.push({},"41aacLNsZVIFpU0w1DfYnVx","CMTM",void 0);var f=a.ccclass;a.property,t("CMTM",f("CMTM")(g=function(t){function o(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).freeBtn=void 0,e.freeCount=0,e.money=void 0,e.mvp=void 0,e.selectedAmount=0,e.main=void 0,e.pin=void 0,e.enteredPin="",e.tryReq=!1,e.pinOkDiag=void 0,e.pinErrDiag=void 0,e}e(o,t);var a=o.prototype;return a.start=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.user("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiJpbnRlcjEwIiwidXNlcm5hbWUiOiLsnKTrj5ntnawiLCJpYXQiOjE3MTcwMzYzNjUsImV4cCI6MTcxNzY0MTE2NX0.gXM-J6kfMSevucrVdH4DIV_r5OVgc2VySh0M6R8uAuI");case 2:return this.initBoard(this.node.getChildByPath("Main/Board")),this.initFreeBtn(this.node.getChildByPath("Main/FreeBtn")),t.next=6,this.updateFreeCount();case 6:this.main=this.node.getChildByName("Main"),this.pin=this.node.getChildByName("Pin"),this.initPin(),this.main.getChildByName("Button").getComponent(s).node.on(s.EventType.CLICK,this.onCommit,this),this.main.getChildByName("Button-back").getComponent(s).node.on(s.EventType.CLICK,(function(){p.loadScene("home")}),this);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.reqMTM=function(){var t=i(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.tryReq=!0,6===(e=this.enteredPin).length){t.next=4;break}throw Error("Invalid Proc!!: "+e.length+" > ("+e+")");case 4:return t.prev=4,t.next=7,d.mileToMoney({amount:this.selectedAmount,pin:e});case 7:this.updatePoints(),this.pinOkDiag.active=!0,t.next=16;break;case 11:t.prev=11,t.t0=t.catch(4),console.error(t.t0),this.initPinPoints(),this.pinErrDiag.active=!0;case 16:return t.prev=16,this.tryReq=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,this,[[4,11,16,19]])})));return function(){return t.apply(this,arguments)}}(),a.incPinPoints=function(t){for(var e=this.pin.getChildByName("Pin"),n=1;n<7;++n){var i=e.getChildByPath("0"+n+"/Sprite");if(!i.active){i.active=!0,this.enteredPin+=t,6===n&&this.reqMTM();break}}},a.decPinPoints=function(){for(var t=this.pin.getChildByName("Pin"),e=6;e>0;--e){var n=t.getChildByPath("0"+e+"/Sprite");if(n.active){n.active=!1,this.enteredPin=this.enteredPin.slice(0,-1);break}}},a.onPad=function(t){this.tryReq||("back"===t?this.decPinPoints():this.incPinPoints(t))},a.initPinPoints=function(){for(var t,e=this.pin.getChildByName("Pin"),i=n(e.children);!(t=i()).done;){t.value.getChildByName("Sprite").active=!1}this.enteredPin=""},a.onReleasePinDiag=function(t){t.active=!1,this.returnMain()},a.initPin=function(){var t=this;this.initPinPoints(),this.pinOkDiag=this.pin.getChildByName("OkDiag"),this.pinOkDiag.getChildByPath("Back/Button").getComponent(s).node.on(s.EventType.CLICK,(function(){t.onReleasePinDiag(t.pinOkDiag)}),this),this.pinErrDiag=this.pin.getChildByName("ErrDiag"),this.pinErrDiag.getChildByPath("Back/Button").getComponent(s).node.on(s.EventType.CLICK,(function(){t.onReleasePinDiag(t.pinErrDiag)}),this);for(var e,i=this.pin.getChildByName("Pad"),r=function(){var n=e.value,i=n.getComponent(s);i&&i.node.on(s.EventType.CLICK,(function(){t.onPad(n.name)}),t)},o=n(i.children);!(e=o()).done;)r()},a.onCommit=function(){this.main.active=!1,this.pin.active=!0,this.initPinPoints()},a.returnMain=function(){this.main.active=!0,this.pin.active=!1},a.updateFreeCount=function(){var t=i(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.freeCount();case 2:e=t.sent,this.freeCount=e.availableCount,this.freeBtn.getChildByPath("Sprite/Label").getComponent(h).string=this.freeCount+"/3";case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.initFreeBtn=function(t){this.freeBtn=t,this.freeBtn.getComponent(s).node.on(s.EventType.CLICK,this.onFreeMoney,this)},a.updatePoints=function(){var t=d.User;this.money.string=t.u_game_money.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),this.mvp.string=t.mvp.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},a.initPoint=function(t,e){return t.getChildByName("Name").getComponent(h).string=e,t.getChildByPath("Point/Value").getComponent(h)},a.initBoard=function(t){var e=d.User.u_id;this.money=this.initPoint(t.getChildByName("Point01"),e),this.mvp=this.initPoint(t.getChildByName("Point02"),e),this.updatePoints(),this.initToggle(t.getChildByName("ToggleGroup"))},a.initToggle=function(t){for(var e=this,n=function(n){t.getChildByName("Toggle"+n).getComponent(c).node.on(s.EventType.CLICK,(function(){e.selectedAmount=n}),e)},i=1;i<7;++i)n(i)},a.onFreeMoney=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.freeCount>0)){t.next=18;break}if(!this.tryReq){t.next=3;break}return t.abrupt("return");case 3:return this.tryReq=!0,t.prev=4,t.next=7,d.freeMoney();case 7:return this.updatePoints(),t.next=10,this.updateFreeCount();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),console.error(t.t0);case 15:return t.prev=15,this.tryReq=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[4,12,15,18]])})));return function(){return t.apply(this,arguments)}}(),o}(u))||g);o._RF.pop()}}}));

System.register("chunks:///_virtual/CNetworkManager.ts",["cc","./CLocalServer.ts","./CPacket.ts"],(function(e){var r,t,s;return{setters:[function(e){r=e.cclegacy},function(e){t=e.CLocalServer},function(e){s=e.CPacket}],execute:function(){r._RF.push({},"d6ba0Uv2AdJUaugpSC6iFtc","CNetworkManager",void 0);var n=e("CNetworkManager",function(){function e(){}return e.init=function(){var e=this;this.received_msg="",this.gameserver=new t,this.gameserver.appcallback_on_message.push((function(r){e.on_message(r)}))},e.start_localserver=function(){this.gameserver.start_localserver()},e.on_message=function(e){this.message_receiver(e),s.destroy(e)},e.send=function(e){this.gameserver.on_receive_from_client(e),s.destroy(e)},e}());n.gameserver=void 0,n.received_msg="",n.message_receiver=void 0,r._RF.pop()}}}));

System.register("chunks:///_virtual/CPacket.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,i;return{setters:[function(t){o=t.createClass},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"8333dJ/6HBAqYRJnueFp1VO","CPacket",void 0);t("CPacket",function(){function t(){this._buffer=void 0,this._position=0,this._protocol_id=0,this._buffer=[],this._position=0}t.create=function(o){var i=new t;return i._protocol_id=o,i},t.destroy=function(t){};var i=t.prototype;return i.pop_protocol_id=function(){return this.protocol_id},i.copy_to=function(t){t._protocol_id=this.protocol_id,t.overwrite(this.buffer,this.position)},i.overwrite=function(t,o){this._buffer=[].concat(t),this._position=o},i.pop_byte=function(){if(this.position>=this.buffer.length)throw new Error("Overflow! "+this.protocol_id);var t=this.buffer[this.position];return++this._position,t},i.pop_int16=function(){return this.pop_byte()},i.pop_int32=function(){return this.pop_byte()},i.push=function(t){this._buffer.push(t)},o(t,[{key:"buffer",get:function(){return this._buffer}},{key:"position",get:function(){return this._position}},{key:"protocol_id",get:function(){return this._protocol_id}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/CPlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CAIPlayer.ts","./CPlayerAgent.ts"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){i=t.CAIPlayer},function(t){r=t.CPlayerAgent}],execute:function(){n._RF.push({},"f0d0fKtrFxLDLbR3npqgu7f","CPlayer",void 0);var s=t("PLAYER_TYPE",function(t){return t[t.HUMAN=0]="HUMAN",t[t.AI=1]="AI",t}({}));t("CPlayer",function(){function t(t,e,n,a){var o=this;switch(this.send_function=void 0,this._player_index=0,this._agent=void 0,this.player_type=void 0,this.ai_logic=void 0,this._player_index=t,this._agent=new r(t),this.player_type=e,this.player_type){case s.HUMAN:this.send_function=function(t){n(t)};break;case s.AI:this.ai_logic=new i(a),this.send_function=function(t){o.ai_logic.send(t)}}}var n=t.prototype;return n.send=function(t){this.send_function(t)},n.reset=function(){null!=this.ai_logic&&this.ai_logic.reset()},n.is_autoplayer=function(){return this.player_type==s.AI},e(t,[{key:"player_index",get:function(){return this._player_index}},{key:"agent",get:function(){return this._agent}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/CPlayerAgent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CHelper.ts","./CCard.ts"],(function(t){var e,n,_,r,o,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){_=t.CHelper},function(t){r=t.PAE_TYPE,o=t.CARD_STATUS,i=t.CCard}],execute:function(){n._RF.push({},"bc46fsHvjlDmbUwhO5OOUI8","CPlayerAgent",void 0);t("CPlayerAgent",function(){function t(t){this.player_index=0,this.floor_pae=new Map,this.hand_pae=[],this._score=0,this._prev_score=0,this._go_count=0,this._shaking_count=0,this._ppuk_count=0,this._remain_bomb_count=0,this._is_used_kookjin=!1,this.player_index=t,this.hand_pae=[],this.floor_pae=new Map,this._score=0,this._prev_score=0,this._remain_bomb_count=0}var n=t.prototype;return n.reset=function(){this._score=0,this._prev_score=0,this._go_count=0,this._shaking_count=0,this._ppuk_count=0,this.hand_pae=[],this.floor_pae.clear(),this._remain_bomb_count=0,this._is_used_kookjin=!1},n.add_card_to_hand=function(t){this.hand_pae.push(t)},n.pop_card_from_hand=function(t,e,n){var r=this.hand_pae.find((function(_){return _.number==t&&_.pae_type==e&&_.position==n}));return null==r?null:(_.Remove(this.hand_pae,r),r)},n.pop_all_cards_from_hand=function(t){for(var e=this.hand_pae.filter((function(e){return e.is_same_number(t)})),n=[],r=0;r<e.length;++r)n.push(e[r]),_.Remove(this.hand_pae,e[r]);return n},n.add_card_to_floor=function(t){this.floor_pae.get(t.pae_type)||this.floor_pae.set(t.pae_type,[]),this.floor_pae.get(t.pae_type).push(t)},n.pop_card_from_floor=function(t){if(!this.floor_pae.get(r.PEE))return null;var e=this.floor_pae.get(r.PEE);if(e.length<=0)return null;var n=[];if(1==e.length)n.push(e[0]);else if(1==t){var i=e.find((function(t){return t.status!=o.TWO_PEE}));null!=i?n.push(i):n.push(e[0])}else if(2==t){var s=e.find((function(t){return t.status==o.TWO_PEE}));if(null!=s)n.push(s);else for(var u=0;u<t;++u)n.push(e[u])}for(var c=0;c<n.length;++c)_.Remove(e,n[c]);return e.length<=0&&this.floor_pae.delete(r.PEE),n},n.pop_specific_card_from_floor=function(t,e){if(!this.floor_pae.get(t))return null;var n=this.floor_pae.get(t).find((function(t){return t.status==e}));return _.Remove(this.floor_pae.get(t),n),n},n.find_cards=function(t){return this.floor_pae.get(t)},n.get_card_count=function(t,e){if(!this.floor_pae.get(t))return 0;var n=this.floor_pae.get(t).filter((function(t){return t.is_same_status(e)}));return null==n?0:n.length},n.get_same_card_count_from_hand=function(t){var e=this.find_same_cards_from_hand(t);return null==e?0:e.length},n.find_same_cards_from_hand=function(t){return this.hand_pae.filter((function(e){return e.is_same_number(t)}))},n.get_pee_count=function(){var t=this.find_cards(r.PEE);if(null==t)return 0;var e=this.get_card_count(r.PEE,o.TWO_PEE);return t.length+e},n.get_score_by_type=function(t){var e=0,n=this.find_cards(t);if(null==n)return 0;switch(t){case r.PEE:var _=this.get_card_count(r.PEE,o.TWO_PEE),s=n.length+_;s>=10&&(e=s-9);break;case r.TEE:case r.YEOL:n.length>=5&&(e=n.length-4);break;case r.KWANG:if(5==n.length)e=15;else if(4==n.length)e=4;else if(3==n.length){e=n.find((function(t){return t.is_same_number(i.BEE_KWANG)}))?2:3}}return e},n.calculate_score=function(){this._score=0,this._score+=this.get_score_by_type(r.PEE),this._score+=this.get_score_by_type(r.TEE),this._score+=this.get_score_by_type(r.YEOL),this._score+=this.get_score_by_type(r.KWANG),3==this.get_card_count(r.YEOL,o.GODORI)&&(this._score+=5);var t=this.get_card_count(r.TEE,o.CHEONG_DAN),e=this.get_card_count(r.TEE,o.HONG_DAN),n=this.get_card_count(r.TEE,o.CHO_DAN);3==t&&(this._score+=3),3==e&&(this._score+=3),3==n&&(this._score+=3)},n.sort_player_hand_slots=function(){this.hand_pae.sort((function(t,e){return t.number<e.number?-1:t.number>e.number?1:0}));this.player_index;for(var t=0;t<this.hand_pae.length;++t)this.hand_pae[t].number+", "},n.add_bomb_count=function(t){this._remain_bomb_count+=t},n.decrease_bomb_count=function(){return this.remain_bomb_count>0&&(--this._remain_bomb_count,!0)},n.can_finish=function(){return this.calculate_score(),!(this.score<7)&&(!(this.prev_score>=this.score)&&(this._prev_score=this.score,!0))},n.plus_go_count=function(){++this._go_count},n.plus_shaking_count=function(){++this._shaking_count},n.plus_ppuk_count=function(){++this._ppuk_count},n.kookjin_selected=function(){this._is_used_kookjin=!0},n.move_kookjin_to_pee=function(){var t=this.pop_specific_card_from_floor(r.YEOL,o.KOOKJIN);if(null==t)throw new Error("Cannot find kookjin!!  player : "+this.player_index);t.change_pae_type(r.PEE),t.set_card_status(o.TWO_PEE),this.add_card_to_floor(t),this.calculate_score()},n.is_empty_on_hand=function(){return this.hand_pae.length<=0},e(t,[{key:"score",get:function(){return this._score}},{key:"prev_score",get:function(){return this._prev_score}},{key:"go_count",get:function(){return this._go_count}},{key:"shaking_count",get:function(){return this._shaking_count}},{key:"ppuk_count",get:function(){return this._ppuk_count}},{key:"remain_bomb_count",get:function(){return this._remain_bomb_count}},{key:"is_used_kookjin",get:function(){return this._is_used_kookjin}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/CPlayerCardManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCard.ts","./CHelper.ts"],(function(t){var o,e,r,s;return{setters:[function(t){o=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy},function(t){r=t.PAE_TYPE},function(t){s=t.CHelper}],execute:function(){e._RF.push({},"7b34faioiVNA74zbV0UV0Vq","CPlayerCardManager",void 0);t("CPlayerCardManager",function(){function t(){this.floor_slots=void 0,this.floor_slots=new Map,this.floor_slots.set(r.KWANG,[]),this.floor_slots.set(r.TEE,[]),this.floor_slots.set(r.YEOL,[]),this.floor_slots.set(r.PEE,[])}var e=t.prototype;return e.reset=function(){for(var t,e=o(this.floor_slots);!(t=e()).done;){var r=t.value;this.floor_slots.set(r[0],[])}},e.add=function(t){var o=t.card.pae_type;this.floor_slots.get(o).push(t),s.SetTopOrder(t)},e.remove=function(t){var o=t.card.pae_type;s.Remove(this.floor_slots.get(o),t)},e.removeDetail=function(t,o,e){var r=this.floor_slots.get(o).find((function(r){return r.is_same(t,o,e)}));this.remove(r)},e.get_card_count=function(t){return this.floor_slots.get(t).length},e.get_card=function(t,o,e){return this.floor_slots.get(o).find((function(r){return r.is_same(t,o,e)}))},e.get_card_at=function(t,o){return this.floor_slots.get(t)[o]},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/CPlayerCardPosition.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCard.ts"],(function(o){var t,i,s,n,r,e;return{setters:[function(o){t=o.inheritsLoose},function(o){i=o.cclegacy,s=o._decorator,n=o.math,r=o.Component},function(o){e=o.PAE_TYPE}],execute:function(){var a;i._RF.push({},"50809XSIIZBGaNTf0bFPrHF","CPlayerCardPosition",void 0);var l=s.ccclass;s.property,o("CPlayerCardPosition",l("CPlayerCardPosition")(a=function(o){function i(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(t=o.call.apply(o,[this].concat(s))||this).floor_positions=void 0,t.hand_positions=void 0,t}t(i,o);var s=i.prototype;return s.onLoad=function(){var o=[];this.make_slot_positions(this.node.getChildByName("floor"),o),this.floor_positions=new Map,this.floor_positions.set(e.KWANG,o[0]),this.floor_positions.set(e.YEOL,o[1]),this.floor_positions.set(e.TEE,o[2]),this.floor_positions.set(e.PEE,o[3]),this.hand_positions=[],this.make_slot_positions(this.node.getChildByName("hand"),this.hand_positions)},s.make_slot_positions=function(o,t){for(var i=o.children,s=0;s<i.length;++s)i[s]!=o&&t.push(i[s].worldPosition)},s.get_floor_position=function(o,t){return this.floor_positions.get(t).clone().add(new n.Vec3(30*o,0,0))},s.get_hand_position=function(o){return this.hand_positions[o].clone()},i}(r))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/CPlayerHandCardManager.ts",["cc","./CHelper.ts"],(function(r){var n,t;return{setters:[function(r){n=r.cclegacy},function(r){t=r.CHelper}],execute:function(){n._RF.push({},"8fc027/WJxGBY9IYTaeac1e","CPlayerHandCardManager",void 0);r("CPlayerHandCardManager",function(){function r(){this.cards=void 0,this.cards=[]}var n=r.prototype;return n.reset=function(){this.cards=[]},n.add=function(r){this.cards.push(r)},n.remove=function(r){t.Remove(this.cards,r)},n.get_card_count=function(){return this.cards.length},n.get_card=function(r){return this.cards[r]},n.find_card=function(r,n,t){return this.cards.find((function(e){return e.card.is_same(r,n,t)}))},n.get_same_number_count=function(r){return this.cards.filter((function(n){return n.is_sameByNumber(r)})).length},n.sort_by_number=function(){this.cards.sort((function(r,n){return r.card.number<n.card.number?-1:r.card.number>n.card.number?1:0}))},n.enable_all_colliders=function(r){for(var n=0;n<this.cards.length;++n)this.cards[n].enable_collider(r)},r}());n._RF.pop()}}}));

System.register("chunks:///_virtual/CPlayerInfoSlot.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n,i,s;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,i=t.Label,s=t.Component}],execute:function(){var r;o._RF.push({},"ae9f2YvyPpHC4vtFXbE8TcF","CPlayerInfoSlot",void 0);var p=n.ccclass;n.property,t("CPlayerInfoSlot",p("CPlayerInfoSlot")(r=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).score_text=void 0,e.go_text=void 0,e.shake_text=void 0,e.ppuk_text=void 0,e.pee_count_text=void 0,e}e(o,t);var n=o.prototype;return n.onLoad=function(){this.score_text=this.node.getChildByName("score").getComponent(i),this.go_text=this.node.getChildByName("go").getComponent(i),this.shake_text=this.node.getChildByName("shake").getComponent(i),this.ppuk_text=this.node.getChildByName("ppuk").getComponent(i),this.pee_count_text=this.node.getChildByName("pee").getComponent(i)},n.update_score=function(t){this.score_text.string=t.toString()},n.update_go=function(t){this.go_text.string=t.toString()},n.update_shake=function(t){this.shake_text.string=t.toString()},n.update_ppuk=function(t){this.ppuk_text.string=t.toString()},n.update_peecount=function(t){this.pee_count_text.string="("+t+")"},o}(s))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/CPlayerOrderManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,n;return{setters:[function(r){e=r.createClass},function(r){n=r.cclegacy}],execute:function(){n._RF.push({},"f5228mVhQtJb7Bgq65dvUMG","CPlayerOrderManager",void 0);r("CPlayerOrderManager",function(){function r(){this._random_cards=void 0}return r.prototype.reset=function(r){this._random_cards=r.get_random_cards(2)},e(r,[{key:"random_cards",get:function(){return this._random_cards}}]),r}());n._RF.pop()}}}));

System.register("chunks:///_virtual/CPlayRoomUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CPlayerCardPosition.ts","./CCardPicture.ts","./CVisualFloorSlot.ts","./CPlayerHandCardManager.ts","./CPlayerCardManager.ts","./CPlayerInfoSlot.ts","./CCardManager.ts","./CPacket.ts","./CEffectManager.ts","./CSpriteManager.ts","./CHelper.ts","./CMovingObject.ts","./CSpriteLayerOrderManager.ts","./CCard.ts","./protocol.ts","./CNetworkManager.ts","./CUIManager.ts","./CPopupPlayerOrder.ts","./CPopupGo.ts","./CPopupGameResult.ts","./CPopupShakingCards.ts","./CPopupChoiceCard.ts","./EasingUtil.ts","./CPopupShaking.ts"],(function(e){var t,r,a,n,o,_,s,i,c,p,u,l,d,h,f,y,g,m,b,P,C,v,k,O,E,x,w,R,A,I,S,T,D,L,U,N,M,H,K,F,G,Y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose,_=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){i=e.cclegacy,c=e._decorator,p=e.Node,u=e.math,l=e.instantiate,d=e.Button,h=e.Component},function(e){f=e.CPlayerCardPosition},function(e){y=e.CCardPicture},function(e){g=e.CVisualFloorSlot},function(e){m=e.CPlayerHandCardManager},function(e){b=e.CPlayerCardManager},function(e){P=e.CPlayerInfoSlot},function(e){C=e.CCardManager},function(e){v=e.CPacket},function(e){k=e.CEffectManager},function(e){O=e.CSpriteManager},function(e){E=e.CHelper},function(e){x=e.CMovingObject},function(e){w=e.CSpriteLayerOrderManager},function(e){R=e.PAE_TYPE,A=e.CARD_STATUS},function(e){I=e.CARD_EVENT_TYPE,S=e.PROTOCOL,T=e.PLAYER_SELECT_CARD_RESULT},function(e){D=e.CNetworkManager},function(e){L=e.CUIManager,U=e.UI_PAGE},function(e){N=e.CPopupPlayerOrder},function(e){M=e.CPopupGo},function(e){H=e.CPopupGameResult},function(e){K=e.CPopupShakingCards},function(e){F=e.CPopupChoiceCard},function(e){G=e.EasingUtil},function(e){Y=e.CPopupShaking}],execute:function(){var V,B,z,X,j,Q,J,q,Z,W,$;i._RF.push({},"7cd7aHyBiRPur1CpaqJIpH2","CPlayRoomUI",void 0);var ee=c.ccclass,te=c.property;e("CPlayRoomUI",(V=ee("CPlayRoomUI"),B=te(p),z=te(p),X=te(p),j=te(f),V((q=t((J=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),_=0;_<r;_++)o[_]=arguments[_];return t=e.call.apply(e,[this].concat(o))||this,a(t,"effect_parent",q,n(t)),t.back_image=void 0,a(t,"floor_slot_root",Z,n(t)),t.floor_slot_position=void 0,a(t,"deck_slot",W,n(t)),a(t,"player_card_positions",$,n(t)),t.total_card_pictures=void 0,t.SCALE_TO_FLOOR=new u.Vec3(.8,.8,.8),t.SCALE_TO_OTHER_HAND=new u.Vec3(.5,.5,.5),t.SCALE_TO_MY_HAND=new u.Vec3(1,1,1),t.SCALE_TO_OTHER_FLOOR=new u.Vec3(.6,.6,.6),t.SCALE_TO_MY_FLOOR=new u.Vec3(.6,.6,.6),t.player_me_index=0,t.floor_ui_slots=void 0,t.deck_cards=void 0,t.player_hand_card_manager=void 0,t.player_card_manager=void 0,t.player_info_slots=void 0,t.card_manager=void 0,t.waiting_packets=void 0,t.ef_focus=void 0,t.is_test_mode=!1,t.test_auto_slot_index=0,t}r(t,e);var i=t.prototype;return i.initHwatooBtn=function(e){for(var t,r=this,a=function(){var e=t.value;e.node.on(d.EventType.CLICK,(function(){r.on_card_touch(e.node.parent.getComponent(y))}),r)},n=o(e);!(t=n()).done;)a()},i.onLoad=function(){var e=this;k.load_effects(this.effect_parent),this.waiting_packets=[],this.player_me_index=0,this.deck_cards=[],this.card_manager=new C,this.card_manager.make_all_cards(),this.floor_ui_slots=[];for(var t=0;t<12;++t)this.floor_ui_slots.push(new g(t,Number.MAX_VALUE));this.player_hand_card_manager=[],this.player_hand_card_manager.push(new m),this.player_hand_card_manager.push(new m),this.player_card_manager=[],this.player_card_manager.push(new b),this.player_card_manager.push(new b),this.player_info_slots=[],this.player_info_slots.push(this.node.getChildByName("player_info_01").getComponent(P)),this.player_info_slots.push(this.node.getChildByName("player_info_02").getComponent(P)),this.back_image=O.Instance.get_sprite("back"),this.floor_slot_position=[],this.make_slot_positions(this.floor_slot_root,this.floor_slot_position),this.ef_focus=this.node.getChildByName("focus"),this.ef_focus.active=!1,this.load_hint_arrows(),this.total_card_pictures=[],E.LoadPrefab("hwatoo",(function(t){for(var r=[],a=t,n=0;n<e.card_manager.cards.length;++n){var o=l(a);o.parent=e.node,o.addComponent(x);var _=o.addComponent(y);e.total_card_pictures.push(_),o.active=!1,r.push(o.getComponentInChildren(d))}e.initHwatooBtn(r),e.enter()}))},i.reset=function(){this.card_manager.make_all_cards();for(var e=0;e<this.floor_ui_slots.length;++e)this.floor_ui_slots[e].reset();this.make_deck_cards();for(var t=0;t<this.player_hand_card_manager.length;++t)this.player_hand_card_manager[t].reset();for(var r=0;r<this.player_card_manager.length;++r)this.player_card_manager[r].reset();this.clear_ui()},i.make_deck_cards=function(){w.reset();var e=this.deck_slot.worldPosition.clone();this.deck_cards=[];for(var t=0;t<this.total_card_pictures.length;++t)this.total_card_pictures[t].update_backcard(this.back_image),this.total_card_pictures[t].enable_collider(!1),this.total_card_pictures[t].node.active=!0,this.deck_cards.push(this.total_card_pictures[t]),this.total_card_pictures[t].node.worldPosition=e,e.x-=.5,e.y+=.5,this.total_card_pictures[t].node.scale=u.Vec3.ONE,this.total_card_pictures[t].node.rotation=u.Quat.IDENTITY,E.SetTopOrder(this.total_card_pictures[t].sprite_renderer)},i.make_slot_positions=function(e,t){for(var r=e.children,a=0;a<r.length;++a)r[a]!=e&&t.push(r[a].worldPosition)},i.clear_ui=function(){for(var e=0;e<this.player_info_slots.length;++e)this.player_info_slots[e].update_score(0),this.player_info_slots[e].update_go(0),this.player_info_slots[e].update_shake(0),this.player_info_slots[e].update_ppuk(0),this.player_info_slots[e].update_peecount(0)},i.move_card=function(e,t,r,a){void 0===a&&(a=200),null!=e.card?e.update_image(this.get_hwatoo_sprite(e.card)):e.update_image(this.back_image);var n=e.getComponent(x);n.begin=t,n.to=r,n.duration=a,n.run()},i.get_hwatoo_sprite=function(e){var t=4*e.number+e.position;return O.Instance.get_card_sprite(t)},i.distribute_cards=function(){var e=_(s().mark((function e(t,r){var a,n,_,i,c,p,u,l,d,h,f,y,g,m,b,P;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.Delay(1);case 2:a=[],n=.01,_=0;case 5:if(!(_<2)){e.next=44;break}i=0;case 7:if(!(i<4)){e.next=19;break}return c=t.shift(),(p=this.deck_cards.pop()).update_card(c,this.get_hwatoo_sprite(c)),a.push(p),p.node.scale=this.SCALE_TO_FLOOR,this.move_card(p,p.node.worldPosition,this.floor_slot_position[i+4*_]),e.next=16,E.Delay(n);case 16:++i,e.next=7;break;case 19:return e.next=21,E.Delay(n);case 21:u=o(r);case 22:if((l=u()).done){e.next=41;break}d=l.value,h=d[0],f=d[1],y=5*_,g=0;case 28:if(!(g<5)){e.next=39;break}return(m=this.deck_cards.pop()).set_slot_index(y),this.player_hand_card_manager[h].add(m),h==this.player_me_index?(b=f.shift(),m.update_card(b,this.get_hwatoo_sprite(b)),m.node.scale=this.SCALE_TO_MY_HAND,this.move_card(m,m.node.worldPosition,this.player_card_positions[h].get_hand_position(y))):(m.update_backcard(this.back_image),m.node.scale=this.SCALE_TO_OTHER_HAND,this.move_card(m,m.node.worldPosition,this.player_card_positions[h].get_hand_position(y))),++y,e.next=36,E.Delay(n);case 36:++g,e.next=28;break;case 39:e.next=22;break;case 41:++_,e.next=5;break;case 44:return this.sort_floor_cards_after_distributed(a),e.next=47,E.Delay(Math.max(.2-n,.1));case 47:this.sort_player_hand_slots(this.player_me_index),P=v.create(S.DISTRIBUTED_ALL_CARDS),D.send(P);case 50:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),i.get_ui_slot_position=function(e){var t=this.floor_slot_position[e.ui_slot_position].clone(),r=e.get_card_count();return t.x+=14*r,t.y-=6*r,t},i.sort_floor_cards_after_distributed=function(e){for(var t=this,r=function(){var r=e[a].card.number,n=t.floor_ui_slots.find((function(e){return e.is_same_card(r)})),o=u.Vec3.ZERO.clone();null==n?(o=t.floor_slot_position[a],(n=t.floor_ui_slots[a]).add_card(e[a])):(o=t.get_ui_slot_position(n),n.add_card(e[a]));var _=t.floor_slot_position[a];t.move_card(e[a],_,o)},a=0;a<e.length;++a)r()},i.sort_floor_cards_when_finished_turn=function(){for(var e=0;e<this.floor_ui_slots.length;++e){var t=this.floor_ui_slots[e];if(1==t.get_card_count()){var r=t.get_first_card();this.move_card(r,r.node.worldPosition,this.floor_slot_position[t.ui_slot_position])}}},i.enter=function(){var e=this;this.clear_ui(),D.init(),D.message_receiver=function(t){e.on_recv(t)},D.start_localserver(),this.sequential_packet_handler()},i.on_recv=function(e){var t=new v;e.copy_to(t),this.waiting_packets.push(t)},i.wait_next_frame=function(){var e=_(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.Delay(.05);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i.sequential_packet_handler=function(){var e=_(s().mark((function e(){var t,r,a,n,o,_,i,c,p,l,d,h,f,y,g,m,b,P,C,k,O,x,w,R,A,I,T,M,H,K,F,G,Y,V,B,z,X,j;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.node){e.next=3;break}return e.abrupt("break",121);case 3:if(!(this.waiting_packets.length<=0)){e.next=7;break}return e.next=6,this.wait_next_frame();case 6:return e.abrupt("continue",0);case 7:t=this.waiting_packets.shift(),r=t.pop_protocol_id(),e.t0=r,e.next=e.t0===S.LOCAL_SERVER_STARTED?12:e.t0===S.PLAYER_ORDER_RESULT?15:e.t0===S.BEGIN_CARD_INFO?50:e.t0===S.START_TURN?71:e.t0===S.SELECT_CARD_ACK?90:e.t0===S.FLIP_DECK_CARD_ACK?93:e.t0===S.TURN_RESULT?96:e.t0===S.ASK_GO_OR_STOP?100:e.t0===S.UPDATE_PLAYER_STATISTICS?102:e.t0===S.ASK_KOOKJIN_TO_PEE?104:e.t0===S.MOVE_KOOKJIN_TO_PEE?106:e.t0===S.NOTIFY_GO_COUNT?109:e.t0===S.GAME_RESULT?115:117;break;case 12:return a=v.create(S.READY_TO_START),D.send(a),e.abrupt("break",117);case 15:return this.reset(),L.Instance.show(U.POPUP_PLAYER_ORDER),(n=L.Instance.get_uipage(U.POPUP_PLAYER_ORDER).getComponent(N)).reset(this.back_image),n.play(),e.next=22,E.Delay(2.6);case 22:o=t.pop_byte(),_=0,i=0,c=0;case 26:if(!(c<o)){e.next=40;break}return p=t.pop_byte(),l=t.pop_byte(),d=t.pop_byte(),h=t.pop_byte(),f=this.card_manager.find_card(l,d,h),console.log(l+", "+d+", "+h),n.update_slot_info(p,this.get_hwatoo_sprite(f)),_<l&&(i=p,_=l),e.next=37,E.Delay(.7);case 37:++c,e.next=26;break;case 40:return e.next=42,E.Delay(.5);case 42:return L.Instance.get_uipage(U.POPUP_FIRST_PLAYER).position=0==i?new u.Vec3(-252,89.542,0):new u.Vec3(151.725,89.542,0),L.Instance.show(U.POPUP_FIRST_PLAYER),e.next=47,E.Delay(1.5);case 47:return L.Instance.hide(U.POPUP_PLAYER_ORDER),L.Instance.hide(U.POPUP_FIRST_PLAYER),e.abrupt("break",117);case 50:this.is_test_mode&&(this.test_auto_slot_index=0),y=[],this.player_me_index=t.pop_byte(),g=t.pop_byte(),m=0;case 55:if(!(m<g)){e.next=66;break}if(b=t.pop_byte(),P=t.pop_byte(),C=t.pop_byte(),null!=(k=this.card_manager.find_card(b,P,C))){e.next=62;break}throw new Error("Cannot find the card. "+b+", "+P+", "+C);case 62:y.push(k);case 63:++m,e.next=55;break;case 66:for(O=new Map,x=t.pop_byte(),w=0;w<x;++w){for(R=[],A=t.pop_byte(),I=t.pop_byte(),T=0;T<I;++T)(M=t.pop_byte())!=Number.MAX_VALUE&&(H=t.pop_byte(),K=t.pop_byte(),F=this.card_manager.find_card(M,H,K),R.push(F));O.set(A,R)}return this.distribute_cards(y,O),e.abrupt("break",117);case 71:if(G=t.pop_byte(),this.refresh_hint_mark(),!this.is_test_mode){e.next=86;break}if(!(this.player_hand_card_manager[0].get_card_count()<=0)){e.next=76;break}return e.abrupt("break",117);case 76:Y=v.create(S.SELECT_CARD_REQ),V=this.player_hand_card_manager[0].get_card(0),Y.push(V.card.number),Y.push(V.card.pae_type),Y.push(V.card.position),Y.push(this.test_auto_slot_index),++this.test_auto_slot_index,D.send(Y),e.next=89;break;case 86:this.ef_focus.active=!0,this.player_hand_card_manager[0].enable_all_colliders(!0),G>0&&this.deck_cards[this.deck_cards.length-1].enable_collider(!0);case 89:return e.abrupt("break",117);case 90:return e.next=92,this.on_select_card_ack(t);case 92:return e.abrupt("break",117);case 93:return e.next=95,this.on_flip_deck_card_ack(t);case 95:return e.abrupt("break",117);case 96:return B=t.pop_byte(),e.next=99,this.on_turn_result(B,t);case 99:return e.abrupt("break",117);case 100:return L.Instance.show(U.POPUP_GO_STOP),e.abrupt("break",117);case 102:return this.update_player_statistics(t),e.abrupt("break",117);case 104:return L.Instance.show(U.POPUP_ASK_KOOKJIN),e.abrupt("break",117);case 106:return z=t.pop_byte(),this.move_kookjin_to_pee(z),e.abrupt("break",117);case 109:return X=t.pop_byte(),j=t.pop_byte(),e.next=113,E.Delay(X);case 113:return this.show_go_count(j),e.abrupt("break",117);case 115:return this.on_game_result(t),e.abrupt("break",117);case 117:return e.next=119,this.wait_next_frame();case 119:e.next=0;break;case 121:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.show_go_count=function(){var e=_(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L.Instance.show(U.POPUP_GO_COUNT),L.Instance.get_uipage(U.POPUP_GO_COUNT).getComponent(M).refresh(t),e.next=4,E.Delay(1);case 4:L.Instance.hide(U.POPUP_GO_COUNT);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.on_game_result=function(){var e=_(s().mark((function e(t){var r,a,n,o,_;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pop_byte(),a=t.pop_int16(),n=t.pop_int16(),o=t.pop_int16(),_=t.pop_int16(),L.Instance.show(U.POPUP_STOP),e.next=8,E.Delay(2);case 8:L.Instance.hide(U.POPUP_STOP),L.Instance.show(U.POPUP_GAME_RESULT),L.Instance.get_uipage(U.POPUP_GAME_RESULT).getComponent(H).refresh(r,a,n,o,_);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.move_kookjin_to_pee=function(){var e=_(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.player_card_manager[t].get_card(8,R.YEOL,0),this.move_card(r,r.node.worldPosition,this.get_player_card_position(t,R.PEE)),this.player_card_manager[t].remove(r),r.card.change_pae_type(R.PEE),r.card.set_card_status(A.TWO_PEE),this.player_card_manager[t].add(r),e.next=8,E.Delay(1);case 8:this.refresh_player_floor_slots(R.YEOL,t),this.refresh_player_floor_slots(R.PEE,t);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.update_player_statistics=function(e){var t=e.pop_byte(),r=e.pop_int16(),a=e.pop_byte(),n=e.pop_byte(),o=e.pop_byte(),_=e.pop_byte();this.player_info_slots[t].update_score(r),this.player_info_slots[t].update_go(a),this.player_info_slots[t].update_shake(n),this.player_info_slots[t].update_ppuk(o),this.player_info_slots[t].update_peecount(_)},i.parse_cards_to_get=function(e){for(var t=[],r=e.pop_byte(),a=0;a<r;++a){var n=e.pop_byte(),o=e.pop_byte(),_=e.pop_byte(),s=this.card_manager.find_card(n,o,_);t.push(s)}return t},i.parse_cards_to_take_from_others=function(e,t){for(var r=[],a=t.pop_byte(),n=0;n<a;++n)for(var o=t.pop_byte(),_=t.pop_byte(),s=0;s<_;++s){var i=t.pop_byte(),c=t.pop_byte(),p=t.pop_byte(),u=this.player_card_manager[o].get_card(i,c,p);r.push(u),this.player_card_manager[o].remove(u)}var l=t.pop_int16();t.pop_byte();return this.player_info_slots[e].update_score(l),r},i.on_turn_result=function(){var e=_(s().mark((function e(t,r){var a,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.parse_cards_to_get(r),n=this.parse_cards_to_take_from_others(t,r),e.next=4,this.move_after_flip_card(t,n,a);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),i.on_select_card_ack=function(){var e=_(s().mark((function e(t){var r,a,n,o,_,i,c,p,u,l,d,h,f,y,g,m,b,P,C,O,x,w,A,N,M,H,G,Y,V,B,z,X,j;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.pop_byte(),a=t.pop_byte(),n=I.NONE,o=[],_=[],i=Number.MAX_VALUE,c=Number.MAX_VALUE,p=R.PEE,u=Number.MAX_VALUE,c=t.pop_byte(),p=t.pop_byte(),u=t.pop_byte(),t.pop_byte(),i=t.pop_byte(),n=t.pop_byte(),e.t0=n,e.next=e.t0===I.BOMB?18:e.t0===I.SHAKING?21:24;break;case 18:for(l=t.pop_byte(),d=0;d<l;++d)h=t.pop_byte(),f=t.pop_byte(),y=t.pop_byte(),g=this.card_manager.find_card(h,f,y),o.push(g);return e.abrupt("break",24);case 21:for(m=t.pop_byte(),b=0;b<m;++b)P=t.pop_byte(),C=t.pop_byte(),O=t.pop_byte(),x=this.card_manager.find_card(P,C,O),_.push(x);return e.abrupt("break",24);case 24:if(w=[],(A=t.pop_byte())==T.CHOICE_ONE_CARD_FROM_PLAYER)for(N=t.pop_byte(),M=0;M<N;++M)H=t.pop_byte(),G=t.pop_byte(),Y=t.pop_byte(),V=this.card_manager.find_card(H,G,Y),w.push(this.get_hwatoo_sprite(V));return e.next=29,E.Delay(r);case 29:if(this.hide_hint_mark(),this.refresh_player_floor_slots(R.PEE,a),n!=I.SHAKING){e.next=40;break}for(L.Instance.show(U.POPUP_SHAKING_CARDS),B=L.Instance.get_uipage(U.POPUP_SHAKING_CARDS).getComponent(K),z=[],X=0;X<_.length;++X)z.push(this.get_hwatoo_sprite(_[X]));return B.refresh(z),e.next=39,E.Delay(1.5);case 39:L.Instance.hide(U.POPUP_SHAKING_CARDS);case 40:return e.next=42,this.move_player_cards_to_floor(a,n,o,i,c,p,u);case 42:return e.next=44,E.Delay(.3);case 44:if(n==I.NONE){e.next=49;break}if(n==I.SHAKING){e.next=49;break}return k.play(n),e.next=49,E.Delay(1.5);case 49:a==this.player_me_index&&(A==T.CHOICE_ONE_CARD_FROM_PLAYER?(L.Instance.show(U.POPUP_CHOICE_CARD),L.Instance.get_uipage(U.POPUP_CHOICE_CARD).getComponent(F).refresh(A,w[0],w[1])):(j=v.create(S.FLIP_DECK_CARD_REQ),D.send(j)));case 50:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.move_flip_card=function(){var e=_(s().mark((function e(t,r,a){var n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.deck_cards.pop(),o=this.card_manager.find_card(t,r,a),n.update_card(o,this.get_hwatoo_sprite(o)),e.next=5,this.flip_deck_card(n);case 5:return e.next=7,E.Delay(.3);case 7:return n.node.scale=this.SCALE_TO_FLOOR,this.move_card_to_floor(n,I.NONE),e.next=11,E.Delay(.5);case 11:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}(),i.on_flip_deck_card_ack=function(){var e=_(s().mark((function e(t){var r,a,n,o,_,i,c,p,u,l,d,h,f,y,g,m;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hide_hint_mark(),r=t.pop_byte(),a=t.pop_byte(),n=t.pop_byte(),o=t.pop_byte(),t.pop_byte(),_=[],(i=t.pop_byte())!=T.CHOICE_ONE_CARD_FROM_DECK){e.next=16;break}for(c=t.pop_byte(),p=0;p<c;++p)u=t.pop_byte(),l=t.pop_byte(),d=t.pop_byte(),h=this.card_manager.find_card(u,l,d),_.push(this.get_hwatoo_sprite(h));return e.next=13,this.move_flip_card(a,n,o);case 13:r==this.player_me_index&&(L.Instance.show(U.POPUP_CHOICE_CARD),L.Instance.get_uipage(U.POPUP_CHOICE_CARD).getComponent(F).refresh(i,_[0],_[1])),e.next=33;break;case 16:return f=this.parse_cards_to_get(t),y=this.parse_cards_to_take_from_others(r,t),g=this.parse_flip_card_events(t),this.refresh_player_floor_slots(R.PEE,r),e.next=22,this.move_flip_card(a,n,o);case 22:if(!(g.length>0)){e.next=31;break}m=0;case 24:if(!(m<g.length)){e.next=31;break}return k.play(g[m]),e.next=28,E.Delay(1.5);case 28:++m,e.next=24;break;case 31:return e.next=33,this.move_after_flip_card(r,y,f);case 33:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.parse_flip_card_events=function(e){for(var t=[],r=e.pop_byte(),a=0;a<r;++a){var n=e.pop_byte();t.push(n)}return t},i.move_after_flip_card=function(){var e=_(s().mark((function e(t,r,a){var n,o,_,i,c,p=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<r.length)){e.next=10;break}return o=this.get_player_card_position(t,R.PEE),this.move_card(r[n],r[n].node.worldPosition,o),this.player_card_manager[t].add(r[n]),e.next=7,E.Delay(.5);case 7:++n,e.next=1;break;case 10:console.log(a),_=s().mark((function e(r){var n,o,_,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=p.floor_ui_slots.find((function(e){return e.is_same_card(a[r].number)})))){e.next=3;break}throw new Error("Cannot find floor slot. "+a[r].number+", "+a[r].pae_type+", "+a[r].position);case 3:if(null!=(o=n.find_card(a[r]))){e.next=7;break}throw console.log(n),new Error("Cannot find the card. "+a[r].number+", "+a[r].pae_type+", "+a[r].position);case 7:return console.log(o,n),n.remove_card(o),_=o.node.worldPosition,i=p.get_player_card_position(t,o.card.pae_type),p.player_me_index==t?o.node.scale=p.SCALE_TO_MY_FLOOR:o.node.scale=p.SCALE_TO_OTHER_FLOOR,p.move_card(o,_,i),p.player_card_manager[t].add(o),e.next=16,E.Delay(.1);case 16:case"end":return e.stop()}}),e)})),i=0;case 13:if(!(i<a.length)){e.next=18;break}return e.delegateYield(_(i),"t0",15);case 15:++i,e.next=13;break;case 18:return this.sort_floor_cards_when_finished_turn(),this.refresh_player_hand_slots(t),e.next=22,E.Delay(.2);case 22:c=v.create(S.TURN_END),D.send(c);case 24:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}(),i.flip_deck_card=function(){var e=_(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scale_to(t,3,.1);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.move_player_cards_to_floor=function(){var e=_(s().mark((function e(t,r,a,n,o,_,i){var c,p,u,l,d,h,f,y,g,m,b,P,C;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=.2,p=[],r==I.BOMB)if(c=.1,this.player_me_index==t)for(u=0;u<a.length;++u)l=this.player_hand_card_manager[t].find_card(a[u].number,a[u].pae_type,a[u].position),p.push(l);else for(d=0;d<a.length;++d)h=this.player_hand_card_manager[t].get_card(d),f=this.card_manager.find_card(a[d].number,a[d].pae_type,a[d].position),h.update_card(f,this.get_hwatoo_sprite(f)),p.push(h);else y=this.player_hand_card_manager[t].get_card(n),p.push(y),this.player_me_index!=t&&(g=this.card_manager.find_card(o,_,i),y.update_card(g,this.get_hwatoo_sprite(g)));r==I.BOMB&&(m=this.floor_ui_slots.find((function(e){return e.is_same_card(o)})),b=this.get_ui_slot_position(m),k.play_dust(b,.3,!0)),P=0;case 5:if(!(P<p.length)){e.next=17;break}return C=p[P],this.player_hand_card_manager[t].remove(C),e.next=10,this.scale_to(C,3.5,.05);case 10:return e.next=12,E.Delay(c);case 12:C.node.scale=this.SCALE_TO_FLOOR,this.move_card_to_floor(C,r);case 14:++P,e.next=5;break;case 17:case"end":return e.stop()}}),e,this)})));return function(t,r,a,n,o,_,s){return e.apply(this,arguments)}}(),i.scale_to=function(){var e=_(s().mark((function e(t,r,a){var n,o,_,i,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.SetTopOrder(t),n=t.node.scale.clone(),o=performance.now(),_=n.clone().multiplyScalar(r);case 4:if(!(performance.now()-o<=a)){e.next=14;break}return i=(performance.now()-o)/a,(c=n).x=G.linear(n.x,_.x,i),c.y=G.linear(n.y,_.y,i),t.node.scale=c,e.next=12,E.Delay(.01);case 12:e.next=4;break;case 14:t.node.scale=_;case 15:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),i.move_card_to_floor=function(e,t){var r=0,a=e.node.worldPosition.clone(),n=u.Vec3.ZERO.clone(),o=this.floor_ui_slots.find((function(t){return t.is_same_card(e.card.number)}));if(null==o){var _=this.find_empty_floorslot();n=this.floor_slot_position[_],r=_}else{n=this.get_ui_slot_position(o);for(var s=o.get_cards(),i=0;i<s.length;++i);r=o.ui_slot_position,t!=I.BOMB&&k.play_dust(n,.1,!1)}this.floor_ui_slots[r].add_card(e),this.move_card(e,a,n,10)},i.find_empty_floorslot=function(){var e=this.floor_ui_slots.find((function(e){return 0==e.get_card_count()}));return null==e?Number.MAX_VALUE:e.ui_slot_position},i.sort_player_hand_slots=function(e){this.player_hand_card_manager[e].sort_by_number(),this.refresh_player_hand_slots(e)},i.refresh_player_hand_slots=function(e){for(var t=this.player_hand_card_manager[e],r=t.get_card_count(),a=0;a<r;++a){var n=t.get_card(a);n.set_slot_index(a);n.node.worldPosition.clone();n.node.worldPosition=this.player_card_positions[e].get_hand_position(a)}},i.refresh_player_floor_slots=function(e,t){for(var r=this.player_card_manager[t].get_card_count(e),a=0;a<r;++a){var n=this.player_card_positions[t].get_floor_position(a,e),o=this.player_card_manager[t].get_card_at(e,a);n.z=o.node.worldPosition.z,o.node.worldPosition=n}},i.get_player_card_position=function(e,t){var r=this.player_card_manager[e].get_card_count(t);return this.player_card_positions[e].get_floor_position(r,t)},i.on_card_touch=function(e){this.ef_focus.active=!1;for(var r=this.player_hand_card_manager.length,a=0;a<r;++a)this.player_hand_card_manager[a].enable_all_colliders(!1);if(e.is_back_card()){var n=v.create(S.FLIP_BOMB_CARD_REQ);D.send(n)}else{var o=this.player_hand_card_manager[this.player_me_index].get_same_number_count(e.card.number),_=this.get_same_number_count_on_floor(e.card.number);if(3==o&&0==_)L.Instance.show(U.POPUP_ASK_SHAKING),L.Instance.get_uipage(U.POPUP_ASK_SHAKING).getComponent(Y).refresh(e.card,e.slot);else t.send_select_card(e.card,e.slot,0)}},i.get_same_number_count_on_floor=function(e){return this.floor_ui_slots.filter((function(t){return t.is_same_card(e)})).length},i.load_hint_arrows=function(){},i.hide_hint_mark=function(){},i.refresh_hint_mark=function(){},i.show_hint_mark=function(e){},i.is_me=function(e){return this.player_me_index==e},t.send_select_card=function(e,t,r){var a=v.create(S.SELECT_CARD_REQ);a.push(e.number),a.push(e.pae_type),a.push(e.position),a.push(t),a.push(r),D.send(a)},t}(h)).prototype,"effect_parent",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(J.prototype,"floor_slot_root",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(J.prototype,"deck_slot",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(J.prototype,"player_card_positions",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=J))||Q));i._RF.pop()}}}));

System.register("chunks:///_virtual/CPopupChoiceCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./protocol.ts","./CNetworkManager.ts","./CPacket.ts"],(function(t){var o,e,n,s,r,i,c,h,u;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,s=t.Sprite,r=t.Button,i=t.Component},function(t){c=t.PROTOCOL},function(t){h=t.CNetworkManager},function(t){u=t.CPacket}],execute:function(){var a;e._RF.push({},"ea646upUTNBJZ8dYX3FKwn6","CPopupChoiceCard",void 0);var p=n.ccclass;n.property,t("CPopupChoiceCard",p("CPopupChoiceCard")(a=function(t){function e(){for(var o,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(o=t.call.apply(t,[this].concat(n))||this).slots=void 0,o.result_type_from_server=void 0,o}o(e,t);var n=e.prototype;return n.onDestroy=function(){},n.onLoad=function(){this.slots=[];for(var t=0;t<2;++t){var o=t+1,e=this.node.getChildByName("slot"+(o<10?"0"+o:o.toString()));this.slots.push(e.getComponent(s))}this.slots[0].getComponent(r).node.on(r.EventType.CLICK,this.on_touch_01,this),this.slots[1].getComponent(r).node.on(r.EventType.CLICK,this.on_touch_02,this)},n.refresh=function(t,o,e){this.result_type_from_server=t,console.log(this.slots.length),this.slots[0].spriteFrame=o,this.slots[1].spriteFrame=e},n.on_touch_01=function(){this.on_choice_card(0)},n.on_touch_02=function(){this.on_choice_card(1)},n.on_choice_card=function(t){this.node.active=!1;var o=u.create(c.CHOOSE_CARD);o.push(this.result_type_from_server),o.push(t),h.send(o)},e}(i))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/CPopupGameResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CSpriteManager.ts","./CRestApi.ts"],(function(o){var t,e,n,i,r,s,a,l,h,c,d,u;return{setters:[function(o){t=o.inheritsLoose,e=o.asyncToGenerator,n=o.regeneratorRuntime},function(o){i=o.cclegacy,r=o._decorator,s=o.Button,a=o.Label,l=o.math,h=o.director,c=o.Component},function(o){d=o.CSpriteManager},function(o){u=o.CRestApi}],execute:function(){var p;i._RF.push({},"7065cpgt/xArZ2gnz6YdX4r","CPopupGameResult",void 0);var g=r.ccclass;r.property,o("CPopupGameResult",g("CPopupGameResult")(p=function(o){function i(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=o.call.apply(o,[this].concat(n))||this).win_sprite=void 0,t.lose_sprite=void 0,t.win_lose=void 0,t.money=void 0,t.score=void 0,t.double_val=void 0,t.final_score=void 0,t}t(i,o);var r=i.prototype;return r.onDestroy=function(){},r.onLoad=function(){this.win_sprite=d.Instance.get_sprite("win"),this.lose_sprite=d.Instance.get_sprite("lose"),this.node.getChildByPath("Body/button_play").getComponent(s).node.on(s.EventType.CLICK,this.on_replay,this),this.node.getChildByPath("Body/button_home").getComponent(s).node.on(s.EventType.CLICK,this.on_home,this),this.win_lose=this.node.getChildByPath("Body/title").getComponent(a),this.money=this.node.getChildByPath("Body/Img_Board/money").getComponent(a),this.score=this.node.getChildByPath("Body/Img_Board/score").getComponent(a),this.double_val=this.node.getChildByPath("Body/Img_Board/double").getComponent(a),this.final_score=this.node.getChildByPath("Body/Img_Board/final_score").getComponent(a),this.win_lose.string="";var o=new l.Color;this.win_lose.color=l.Color.fromHEX(o,"#fdd000")},r.on_home=function(){h.loadScene("home")},r.on_replay=function(){h.loadScene("start")},r.refresh=function(){var o=e(n().mark((function o(t,e,i,r,s){var a,h;return n().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(1==t?(this.win_lose.string="",a=new l.Color,this.win_lose.color=l.Color.fromHEX(a,"#fdd000")):(this.win_lose.string="",h=new l.Color,this.win_lose.color=l.Color.fromHEX(h,"#005bac")),this.money.string=e.toString(),this.score.string=i.toString(),this.double_val.string="x "+r,this.final_score.string=s.toString(),!(e>0)){o.next=10;break}return o.next=8,u.moneyPlus({money:e,info:""});case 8:o.next=12;break;case 10:return o.next=12,u.moneyMinus({money:e,info:""});case 12:case"end":return o.stop()}}),o,this)})));return function(t,e,n,i,r){return o.apply(this,arguments)}}(),i}(c))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/CPopupGameResultNagari.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n,r,a,u;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,r=t.Button,a=t.director,u=t.Component}],execute:function(){var i;o._RF.push({},"8afde+zGwJIyYCKP1UqgWI/","CPopupGameResultNagari",void 0);var p=n.ccclass;n.property,t("CPopupGameResultNagari",p("CPopupGameResultNagari")(i=function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;return n.onDestroy=function(){},n.onLoad=function(){this.node.getChildByPath("Body/button_play").getComponent(r).node.on(r.EventType.CLICK,this.on_replay,this)},n.on_replay=function(){a.loadScene("start")},o}(u))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/CPopupGo.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,r,c;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,r=t.Label,c=t.Component}],execute:function(){var i;e._RF.push({},"b43ffHfGGtNi4fZvnzQ8c2P","CPopupGo",void 0);var p=n.ccclass;n.property,t("CPopupGo",p("CPopupGo")(i=function(t){function e(){for(var o,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(o=t.call.apply(t,[this].concat(n))||this).text=void 0,o}o(e,t);var n=e.prototype;return n.onLoad=function(){this.text=this.node.getChildByName("text1").getComponent(r)},n.refresh=function(t){t<=0||t>=10||(this.text.string=""+t)},e}(c))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/CPopupGoStop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CPacket.ts","./protocol.ts","./CNetworkManager.ts"],(function(o){var t,n,e,c,i,u,p,s;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,c=o.Button,i=o.Component},function(o){u=o.CPacket},function(o){p=o.PROTOCOL},function(o){s=o.CNetworkManager}],execute:function(){var r;n._RF.push({},"58b47Lj7F9EuJBKwY2uI5R8","CPopupGoStop",void 0);var _=e.ccclass;e.property,o("CPopupGoStop",_("CPopupGoStop")(r=function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var e=n.prototype;return e.onDestroy=function(){},e.onLoad=function(){this.node.getChildByName("button_go").getComponent(c).node.on(c.EventType.CLICK,this.on_touch_01,this),this.node.getChildByName("button_stop").getComponent(c).node.on(c.EventType.CLICK,this.on_touch_02,this)},e.on_touch_01=function(){this.on_choice_go_or_stop(1)},e.on_touch_02=function(){this.on_choice_go_or_stop(0)},e.on_choice_go_or_stop=function(o){this.node.active=!1;var t=u.create(p.ANSWER_GO_OR_STOP);t.push(o),s.send(t)},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/CPopupKookjin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CPacket.ts","./protocol.ts","./CNetworkManager.ts"],(function(o){var n,t,e,i,c,u,s,r;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator,i=o.Button,c=o.Component},function(o){u=o.CPacket},function(o){s=o.PROTOCOL},function(o){r=o.CNetworkManager}],execute:function(){var p;t._RF.push({},"46d1cUAQJ1GKZtX7GWoX1Aq","CPopupKookjin",void 0);var h=e.ccclass;e.property,o("CPopupKookjin",h("CPopupKookjin")(p=function(o){function t(){return o.apply(this,arguments)||this}n(t,o);var e=t.prototype;return e.onDestroy=function(){},e.onLoad=function(){this.node.getChildByName("button_yes").getComponent(i).node.on(i.EventType.CLICK,this.on_touch_01,this),this.node.getChildByName("button_no").getComponent(i).node.on(i.EventType.CLICK,this.on_touch_02,this)},e.on_touch_01=function(){this.on_choice_kookjin(1)},e.on_touch_02=function(){this.on_choice_kookjin(0)},e.on_choice_kookjin=function(o){this.node.active=!1;var n=u.create(s.ANSWER_KOOKJIN_TO_PEE);n.push(o),r.send(n)},t}(c))||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/CPopupPlayerOrder.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,r,e,s,n;return{setters:[function(t){o=t.inheritsLoose},function(t){r=t.cclegacy,e=t._decorator,s=t.Sprite,n=t.Component}],execute:function(){var i;r._RF.push({},"fe549VV62BNP7ScPHh45D+D","CPopupPlayerOrder",void 0);var l=e.ccclass;e.property,t("CPopupPlayerOrder",l("CPopupPlayerOrder")(i=function(t){function r(){for(var o,r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];return(o=t.call.apply(t,[this].concat(e))||this).root=void 0,o.slots=void 0,o}o(r,t);var e=r.prototype;return e.onLoad=function(){this.slots=[],this.root=this.node.getChildByName("root");var t=this.root.getChildByName("slot01");this.slots.push(t);var o=this.root.getChildByName("slot02");this.slots.push(o)},e.reset=function(t){for(var o=0;o<this.slots.length;++o)this.slots[o].getComponent(s).spriteFrame=t},e.play=function(){},e.update_slot_info=function(t,o){this.slots[t].getComponent(s).spriteFrame=o},r}(n))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/CPopupShaking.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CPlayRoomUI.ts"],(function(o){var n,t,e,i,c,s;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator,i=o.Button,c=o.Component},function(o){s=o.CPlayRoomUI}],execute:function(){var h;t._RF.push({},"11597+XGahBbrARxYNzneve","CPopupShaking",void 0);var r=e.ccclass;e.property,o("CPopupShaking",r("CPopupShaking")(h=function(o){function t(){for(var n,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(n=o.call.apply(o,[this].concat(e))||this).selected_card_info=void 0,n.card_slot=0,n}n(t,o);var e=t.prototype;return e.onDestroy=function(){},e.onLoad=function(){this.node.getChildByName("button_yes").getComponent(i).node.on(i.EventType.CLICK,this.on_touch_01,this),this.node.getChildByName("button_no").getComponent(i).node.on(i.EventType.CLICK,this.on_touch_02,this)},e.refresh=function(o,n){this.selected_card_info=o,this.card_slot=n},e.on_touch_01=function(){this.on_choice_shaking(1)},e.on_touch_02=function(){this.on_choice_shaking(0)},e.on_choice_shaking=function(o){this.node.active=!1,s.send_select_card(this.selected_card_info,this.card_slot,o)},t}(c))||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/CPopupShakingCards.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,r,e,s,n;return{setters:[function(t){o=t.inheritsLoose},function(t){r=t.cclegacy,e=t._decorator,s=t.Sprite,n=t.Component}],execute:function(){var i;r._RF.push({},"3e0bc0jxW9A9Zrpa+t+TY/A","CPopupShakingCards",void 0);var a=e.ccclass;e.property,t("CPopupShakingCards",a("CPopupShakingCards")(i=function(t){function r(){for(var o,r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];return(o=t.call.apply(t,[this].concat(e))||this).slots=void 0,o}o(r,t);var e=r.prototype;return e.onLoad=function(){this.slots=[];for(var t=0;t<3;++t){var o=t+1,r=this.node.getChildByName("slot"+(o<10?"0"+o:o.toString()));this.slots.push(r.getComponent(s))}},e.refresh=function(t){if(t.length==this.slots.length)for(var o=0;o<this.slots.length;++o)this.slots[o].spriteFrame=t[o];else console.error("Sprite count is different!! It must be 3 count.  sprites count : "+t.length)},r}(n))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/CRestApi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./axios.min.mjs_cjs=&original=.js","./axios.min.js"],(function(e){var t,r,n,a,u,s;return{setters:[function(e){t=e.createClass,r=e.asyncToGenerator,n=e.regeneratorRuntime,a=e.extends},function(e){u=e.cclegacy},null,function(e){s=e.default}],execute:function(){u._RF.push({},"bc8ceR5BIlFFLmjfUIpo4t/","CRestApi",void 0);var o=e("CRestApi",function(){function e(){}return e.checkError=function(e){if(200!=e.data.code)throw new Error("Error: "+e.data.code)},e.parseData=function(t){return e.checkError(t),t.data.data},e.user=function(){var t=r(n().mark((function t(r){var a,u;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.get(e.Host+"user?token="+r);case 2:return a=t.sent,u=e.parseData(a),e._LastToken=r,e._User=u.user,t.abrupt("return",u.user);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.gameInfo=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,s.get(e.Host+"gameInfo");case 3:return t.t1=t.sent,t.abrupt("return",t.t0.parseData.call(t.t0,t.t1));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e.moneyPlus=function(){var t=r(n().mark((function t(r){var u;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r.money<=0)){t.next=2;break}throw Error("Invalid req!");case 2:return u=a({id:e._User.u_id},r),t.t0=e,t.next=6,s.put(e.Host+"user/money/plus",u);case 6:return t.t1=t.sent,t.t0.parseData.call(t.t0,t.t1),t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.moneyMinus=function(){var t=r(n().mark((function t(r){var u;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r.money>=0)){t.next=2;break}throw Error("Invalid req!");case 2:return u=a({id:e._User.u_id},r),t.t0=e,t.next=6,s.put(e.Host+"user/money/minus",u);case 6:return t.t1=t.sent,t.t0.parseData.call(t.t0,t.t1),t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.mileToMoney=function(){var t=r(n().mark((function t(r){var u,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=a({id:e._User.u_id,token:e._LastToken},r),t.t0=e,t.next=4,s.post(e.Host+"user/money",u);case 4:return t.t1=t.sent,o=t.t0.parseData.call(t.t0,t.t1),e._User.mvp=o.user.mvp||e._User.mvp,e._User.u_game_money=o.user.u_game_money,t.abrupt("return",o.user);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.freeCount=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,s.get(e.Host+"free?id="+e._User.u_id);case 3:return t.t1=t.sent,t.abrupt("return",t.t0.parseData.call(t.t0,t.t1));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e.freeMoney=function(){var t=r(n().mark((function t(){var r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,s.post(e.Host+"free",{id:e._User.u_id});case 3:return t.t1=t.sent,r=t.t0.parseData.call(t.t0,t.t1),e._User.u_game_money=r.user.u_game_money,t.abrupt("return",r.user);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t(e,null,[{key:"LastToken",get:function(){return e._LastToken}},{key:"LastMoneyPerPoint",get:function(){return e._LastMoneyPerPoint},set:function(t){e._LastMoneyPerPoint=t}},{key:"LastLevel",get:function(){return e._LastLevel},set:function(t){e._LastLevel=t}},{key:"User",get:function(){return e._User}}]),e}());o.Host="https://gostop.fgb.ai/client/",o._LastToken="",o._User={mvp:0,u_game_money:0,u_id:"N/A",u_reg_date:"N/A",u_seq:0},o._LastMoneyPerPoint=100,o._LastLevel=1,u._RF.pop()}}}));

System.register("chunks:///_virtual/CScrollingEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CHelper.ts","./EasingUtil.ts"],(function(e){var n,t,r,i,o,l,a,c,u,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.math,c=e.Component},function(e){u=e.CHelper},function(e){s=e.EasingUtil}],execute:function(){var f,p,b,g,d,h,m,y;o._RF.push({},"17e7eYabI1MJb6IDt+HbGpE","CScrollingEffect",void 0);var v=l.ccclass,w=l.property;e("CScrollingEffect",(f=v("CScrollingEffect"),p=w(a.Vec3),b=w(a.Vec3),f((h=n((d=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return n=e.call.apply(e,[this].concat(o))||this,r(n,"begin",h,i(n)),r(n,"to",m,i(n)),r(n,"duration",y,i(n)),n}t(n,e);var o=n.prototype;return o.onEnable=function(){this.scroll()},o.scroll=function(){var e=this,n=performance.now(),t=this.begin.x,r=this.to.x;u.RequestAnimFrame((function(){var i=s.linear(t,r,(performance.now()-n)/e.duration),o=e.node.worldPosition.clone();o.x=i,e.node.worldPosition=o,performance.now()-n>=e.duration&&(t=e.begin.x,r=e.to.x,n=performance.now())}),(function(){return!e||!e.node||!e.node.active}))},n}(c)).prototype,"begin",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=n(d.prototype,"to",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=n(d.prototype,"duration",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=d))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/CSpriteFadeEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CHelper.ts","./EasingUtil.ts"],(function(e){var r,n,t,i,o,a,c,p,s,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Sprite,p=e.Component},function(e){s=e.CHelper},function(e){u=e.EasingUtil}],execute:function(){var f,l,d;o._RF.push({},"8bf2ddp52ZB9LxSeNHLpast","CSpriteFadeEffect",void 0);var h=a.ccclass,v=a.property;e("CSpriteFadeEffect",h("CSpriteFadeEffect")((d=r((l=function(e){function r(){for(var r,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,t(r,"duration",d,i(r)),r.sprite_renderer=void 0,r}n(r,e);var o=r.prototype;return o.onLoad=function(){this.sprite_renderer=this.node.getComponent(c)},o.onEnable=function(){this.blink()},o.blink=function(){var e=this,r=performance.now(),n=this.sprite_renderer.color.clone(),t=0,i=1;s.RequestAnimFrame((function(){var o=u.linear(t,i,(performance.now()-r)/e.duration);n.a=o,e.sprite_renderer.color=n,o>=1?(t=1,i=0,r=performance.now()):o<=0&&(t=0,i=1,r=performance.now())}),(function(){return!e||!e.node||!e.node.active}))},r}(p)).prototype,"duration",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=l))||f);o._RF.pop()}}}));

System.register("chunks:///_virtual/CSpriteLayerOrderManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,t;return{setters:[function(r){e=r.createClass},function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"8926eBTikpDzpV+XYzyrQcs","CSpriteLayerOrderManager",void 0),r("CSpriteLayerOrderManager",function(){function r(){}return r.reset=function(){this.order=0},e(r,null,[{key:"Order",get:function(){return++this.order}}]),r}()).order=0,t._RF.pop()}}}));

System.register("chunks:///_virtual/CSpriteManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,a,s,o,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty,i=e.inheritsLoose,n=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,o=e._decorator,p=e.SpriteFrame,u=e.Component}],execute:function(){var l,c,h,f,b,g,m,y,_,w,v,d,C,F;s._RF.push({},"18c5bf3WJFAP4F378QwtCYA","CSpriteManager",void 0);var S=o.ccclass,z=o.property,M=(l=S("CSpriteInfo"),c=z(p),l((b=t((f=function(){r(this,"name",b,this),r(this,"spriteFrame",g,this)}).prototype,"name",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=t(f.prototype,"spriteFrame",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f))||h);e("CSpriteManager",(m=S("CSpriteManager"),y=z(p),_=z(M),m(((F=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,r(t,"hwatoo",d,n(t)),r(t,"sprites",C,n(t)),t.sprites_by_name=void 0,t}i(t,e);var s=t.prototype;return s.onLoad=function(){t.inst=this,this.sprites_by_name=new Map;for(var e=0;e<this.sprites.length;++e)this.sprites_by_name.set(this.sprites[e].name,this.sprites[e].spriteFrame)},s.get_sprite=function(e){return this.sprites_by_name.get(e)},s.get_card_sprite=function(e){return this.hwatoo[e]},a(t,null,[{key:"Instance",get:function(){return this.inst}}]),t}(u)).inst=null,d=t((v=F).prototype,"hwatoo",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(v.prototype,"sprites",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=v))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/CStart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CHelper.ts"],(function(t){var r,e,n,o,c,a,u,s;return{setters:[function(t){r=t.inheritsLoose,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,c=t._decorator,a=t.Component,u=t.director},function(t){s=t.CHelper}],execute:function(){var i;o._RF.push({},"d780dWrzpNANJgBSNDy1qQJ","CStart",void 0);var p=c.ccclass;c.property,t("CStart",p("CStart")(i=function(t){function o(){return t.apply(this,arguments)||this}return r(o,t),o.prototype.start=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Delay(3);case 2:u.loadScene("play");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o}(a))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/CUIImageFadeEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CHelper.ts","./EasingUtil.ts"],(function(e){var t,n,i,r,a,o,c,l,u,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.Sprite,l=e.Component},function(e){u=e.CHelper},function(e){f=e.EasingUtil}],execute:function(){var s,p,d,m;a._RF.push({},"21c81tfAq9PfJkua5q0ZFOH","CUIImageFadeEffect",void 0);var g=o.ccclass,h=o.property;e("CUIImageFadeEffect",g("CUIImageFadeEffect")((d=t((p=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"delay",d,r(t)),i(t,"duration",m,r(t)),t.image=void 0,t}n(t,e);var a=t.prototype;return a.onLoad=function(){this.image=this.node.getComponent(c)},a.onEnable=function(){var e=this;u.SetTimer(this.delay,(function(){e.fade_in()}))},a.fade_in=function(){var e=this,t=this.image.color.clone();t.a=1,this.image.color=t;var n=performance.now(),i=Number.MAX_VALUE;u.RequestAnimFrame((function(){i=f.linear(1,0,(performance.now()-n)/e.duration),t.a=i,e.image.color=t}),(function(){return i<=0}))},t}(l)).prototype,"delay",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(p.prototype,"duration",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=p))||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/CUIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,P,_,i,s,o;return{setters:[function(t){e=t.inheritsLoose,P=t.createClass},function(t){_=t.cclegacy,i=t._decorator,s=t.Animation,o=t.Component}],execute:function(){var n,O;_._RF.push({},"d58femz9NBH97nEmbwM7g/e","CUIManager",void 0);var u=i.ccclass,a=(i.property,t("UI_PAGE",function(t){return t[t.PLAY_ROOM=0]="PLAY_ROOM",t[t.POPUP_PLAYER_ORDER=1]="POPUP_PLAYER_ORDER",t[t.POPUP_CHOICE_CARD=2]="POPUP_CHOICE_CARD",t[t.POPUP_GO_STOP=3]="POPUP_GO_STOP",t[t.POPUP_ASK_SHAKING=4]="POPUP_ASK_SHAKING",t[t.POPUP_SHAKING_CARDS=5]="POPUP_SHAKING_CARDS",t[t.POPUP_ASK_KOOKJIN=6]="POPUP_ASK_KOOKJIN",t[t.POPUP_GAME_RESULT=7]="POPUP_GAME_RESULT",t[t.POPUP_GO_COUNT=8]="POPUP_GO_COUNT",t[t.POPUP_STOP=9]="POPUP_STOP",t[t.POPUP_FIRST_PLAYER=10]="POPUP_FIRST_PLAYER",t[t.POPUP_GAME_RESULT_NAGARI=11]="POPUP_GAME_RESULT_NAGARI",t}({})));t("CUIManager",u("CUIManager")(((O=function(t){function _(){for(var e,P=arguments.length,_=new Array(P),i=0;i<P;i++)_[i]=arguments[i];return(e=t.call.apply(t,[this].concat(_))||this).ui_objects=void 0,e}e(_,t);var i=_.prototype;return i.onLoad=function(){_.inst=this,this.ui_objects=new Map,this.ui_objects.set(a.POPUP_PLAYER_ORDER,this.node.getChildByName("popup_player_order")),this.ui_objects.set(a.POPUP_CHOICE_CARD,this.node.getChildByName("popup_choice_card")),this.ui_objects.set(a.POPUP_GO_STOP,this.node.getChildByName("popup_gostop")),this.ui_objects.set(a.POPUP_ASK_SHAKING,this.node.getChildByName("popup_shaking")),this.ui_objects.set(a.POPUP_SHAKING_CARDS,this.node.getChildByName("popup_shaking_cards")),this.ui_objects.set(a.POPUP_ASK_KOOKJIN,this.node.getChildByName("popup_kookjin")),this.ui_objects.set(a.POPUP_GAME_RESULT,this.node.getChildByName("popup_result")),this.ui_objects.set(a.POPUP_GO_COUNT,this.node.getChildByName("popup_go")),this.ui_objects.set(a.POPUP_STOP,this.node.getChildByName("popup_stop")),this.ui_objects.set(a.POPUP_FIRST_PLAYER,this.node.getChildByName("popup_first_player")),this.ui_objects.set(a.POPUP_GAME_RESULT_NAGARI,this.node.getChildByName("popup_nagari"))},i.get_uipage=function(t){return this.ui_objects.get(t)},i.show=function(t){var e=this.ui_objects.get(t);e.active=!1,e.active=!0;var P=e.getComponent(s);return P&&(P.stop(),P.play()),e},i.hide=function(t){this.ui_objects.get(t).active=!1},P(_,null,[{key:"Instance",get:function(){return this.inst}}]),_}(o)).inst=null,n=O))||n);_._RF.pop()}}}));

System.register("chunks:///_virtual/CVisualFloorSlot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CHelper.ts"],(function(t){var r,i,e;return{setters:[function(t){r=t.createClass},function(t){i=t.cclegacy},function(t){e=t.CHelper}],execute:function(){i._RF.push({},"91066tQB4hINK+8Qs/+vN00","CVisualFloorSlot",void 0);t("CVisualFloorSlot",function(){function t(t,r){this._ui_slot_position=0,this.card_number=0,this.card_pictures=void 0,this._ui_slot_position=t,this.card_number=r,this.card_pictures=[]}var i=t.prototype;return i.reset=function(){this.card_number=Number.MAX_VALUE,this.card_pictures=[]},i.add_card=function(t){this.card_number=t.card.number,this.card_pictures.push(t)},i.remove_card=function(t){e.Remove(this.card_pictures,t),0===this.card_pictures.length&&(this.card_number=Number.MAX_VALUE)},i.get_card_count=function(){return this.card_pictures.length},i.is_same_card=function(t){return this.card_number==t},i.find_card=function(t){return this.card_pictures.find((function(r){return r.card.is_same(t.number,t.pae_type,t.position)}))},i.get_first_card=function(){return this.get_card_count()<=0?null:this.card_pictures[0]},i.get_cards=function(){return this.card_pictures},r(t,[{key:"ui_slot_position",get:function(){return this._ui_slot_position}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/EasingUtil.ts",["cc","./CHelper.ts"],(function(n){var t,u;return{setters:[function(n){t=n.cclegacy},function(n){u=n.CHelper}],execute:function(){t._RF.push({},"cb104nqtjpAY77RSvb5xeiT","EasingUtil",void 0);n("EasingUtil",function(){function n(){}return n.linear=function(n,t,u){return n+(t-n)*u},n.clerp=function(n,t,u){var e=Math.abs(180);return t-n<-e?n+(360-n+t)*u:t-n>e?n+-(360-t+n)*u:n+(t-n)*u},n.spring=function(n,t,e){return e=u.Clamp01(e),n+(t-n)*(e=(Math.sin(e*Math.PI*(.2+2.5*e*e*e))*Math.pow(1-e,2.2)+e)*(1+1.2*(1-e)))},n.easeInQuad=function(n,t,u){return(t-=n)*u*u+n},n.easeOutQuad=function(n,t,u){return-(t-=n)*u*(u-2)+n},n.easeInOutQuad=function(n,t,u){return t-=n,(u/=.5)<1?t/2*u*u+n:-t/2*(--u*(u-2)-1)+n},n.easeInCubic=function(n,t,u){return(t-=n)*u*u*u+n},n.easeOutCubic=function(n,t,u){return(t-=n)*(--u*u*u+1)+n},n.easeInOutCubic=function(n,t,u){return t-=n,(u/=.5)<1?t/2*u*u*u+n:t/2*((u-=2)*u*u+2)+n},n.easeInQuart=function(n,t,u){return(t-=n)*u*u*u*u+n},n.easeOutQuart=function(n,t,u){return-(t-=n)*(--u*u*u*u-1)+n},n.easeInOutQuart=function(n,t,u){return t-=n,(u/=.5)<1?t/2*u*u*u*u+n:-t/2*((u-=2)*u*u*u-2)+n},n.easeInQuint=function(n,t,u){return(t-=n)*u*u*u*u*u+n},n.easeOutQuint=function(n,t,u){return(t-=n)*(--u*u*u*u*u+1)+n},n.easeInOutQuint=function(n,t,u){return t-=n,(u/=.5)<1?t/2*u*u*u*u*u+n:t/2*((u-=2)*u*u*u*u+2)+n},n.easeInSine=function(n,t,u){return-(t-=n)*Math.cos(u/1*(Math.PI/2))+t+n},n.easeOutSine=function(n,t,u){return(t-=n)*Math.sin(u/1*(Math.PI/2))+n},n.easeInOutSine=function(n,t,u){return-(t-=n)/2*(Math.cos(Math.PI*u/1)-1)+n},n.easeInExpo=function(n,t,u){return(t-=n)*Math.pow(2,10*(u/1-1))+n},n.easeOutExpo=function(n,t,u){return(t-=n)*(1-Math.pow(2,-10*u/1))+n},n.easeInOutExpo=function(n,t,u){return t-=n,(u/=.5)<1?t/2*Math.pow(2,10*(u-1))+n:(u--,t/2*(2-Math.pow(2,-10*u))+n)},n.easeInCirc=function(n,t,u){return-(t-=n)*(Math.sqrt(1-u*u)-1)+n},n.easeOutCirc=function(n,t,u){return u--,(t-=n)*Math.sqrt(1-u*u)+n},n.easeInOutCirc=function(n,t,u){return t-=n,(u/=.5)<1?-t/2*(Math.sqrt(1-u*u)-1)+n:(u-=2,t/2*(Math.sqrt(1-u*u)+1)+n)},n.bounce=function(n,t,u){return t-=n,(u/=1)<1/2.75?t*(7.5625*u*u)+n:u<2/2.75?t*(7.5625*(u-=1.5/2.75)*u+.75)+n:u<2.5/2.75?t*(7.5625*(u-=2.25/2.75)*u+.9375)+n:t*(7.5625*(u-=2.625/2.75)*u+.984375)+n},n.easeInBack=function(n,t,u){var e=1.70158;return(t-=n)*(u/=1)*u*((e+1)*u-e)+n},n.easeOutBack=function(n,t,u){var e=1.70158;return(t-=n)*((u=u/1-1)*u*((e+1)*u+e)+1)+n},n.easeInOutBack=function(n,t,u){var e=1.70158;return t-=n,(u/=.5)<1?t/2*(u*u*(((e*=1.525)+1)*u-e))+n:t/2*((u-=2)*u*(((e*=1.525)+1)*u+e)+2)+n},n.punch=function(n,t){var u;if(0==t)return 0;if(1==t)return 0;return u=.3/(2*Math.PI)*Math.asin(0),n*Math.pow(2,-10*t)*Math.sin((1*t-u)*(2*Math.PI)/.3)},n.elastic=function(n,t,u){t-=n;var e=0,r=0;return 0==u?n:1==(u/=1)?n+t:(0==r||r<Math.abs(t)?(r=t,e=.075):e=.3/(2*Math.PI)*Math.asin(t/r),r*Math.pow(2,-10*u)*Math.sin((1*u-e)*(2*Math.PI)/.3)+t+n)},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./CAIPlayer.ts","./CBrain.ts","./CGameRoom.ts","./CHome.ts","./CLocalServer.ts","./CMTM.ts","./CPlayer.ts","./CPlayerOrderManager.ts","./CStart.ts","./CCardManager.ts","./CCardPicture.ts","./CDelayedDeactive.ts","./CEffectManager.ts","./CPlayerCardManager.ts","./CPlayerHandCardManager.ts","./CScrollingEffect.ts","./CSpriteFadeEffect.ts","./CSpriteLayerOrderManager.ts","./CSpriteManager.ts","./CUIImageFadeEffect.ts","./CVisualFloorSlot.ts","./CCard.ts","./CFloorCardManager.ts","./CFloorSlot.ts","./CGostopEngine.ts","./CPlayerAgent.ts","./CNetworkManager.ts","./CPacket.ts","./CRestApi.ts","./protocol.ts","./CHelper.ts","./EasingUtil.ts","./CMovingObject.ts","./CPlayRoomUI.ts","./CPlayerCardPosition.ts","./CPlayerInfoSlot.ts","./CPopupChoiceCard.ts","./CPopupGameResult.ts","./CPopupGameResultNagari.ts","./CPopupGo.ts","./CPopupGoStop.ts","./CPopupKookjin.ts","./CPopupPlayerOrder.ts","./CPopupShaking.ts","./CPopupShakingCards.ts","./CUIManager.ts","./test.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/protocol.ts",["cc"],(function(_){var E;return{setters:[function(_){E=_.cclegacy}],execute:function(){E._RF.push({},"de180QdKMJFZp1ZlGlNP75F","protocol",void 0);_("PROTOCOL",function(_){return _[_.BEGIN=0]="BEGIN",_[_.LOCAL_SERVER_STARTED=1]="LOCAL_SERVER_STARTED",_[_.READY_TO_START=10]="READY_TO_START",_[_.BEGIN_CARD_INFO=11]="BEGIN_CARD_INFO",_[_.DISTRIBUTED_ALL_CARDS=12]="DISTRIBUTED_ALL_CARDS",_[_.SELECT_CARD_REQ=13]="SELECT_CARD_REQ",_[_.SELECT_CARD_ACK=14]="SELECT_CARD_ACK",_[_.CHOOSE_CARD=16]="CHOOSE_CARD",_[_.FLIP_BOMB_CARD_REQ=17]="FLIP_BOMB_CARD_REQ",_[_.FLIP_DECK_CARD_REQ=18]="FLIP_DECK_CARD_REQ",_[_.FLIP_DECK_CARD_ACK=19]="FLIP_DECK_CARD_ACK",_[_.TURN_RESULT=20]="TURN_RESULT",_[_.ASK_GO_OR_STOP=21]="ASK_GO_OR_STOP",_[_.ANSWER_GO_OR_STOP=22]="ANSWER_GO_OR_STOP",_[_.NOTIFY_GO_COUNT=23]="NOTIFY_GO_COUNT",_[_.UPDATE_PLAYER_STATISTICS=24]="UPDATE_PLAYER_STATISTICS",_[_.ASK_KOOKJIN_TO_PEE=25]="ASK_KOOKJIN_TO_PEE",_[_.ANSWER_KOOKJIN_TO_PEE=26]="ANSWER_KOOKJIN_TO_PEE",_[_.MOVE_KOOKJIN_TO_PEE=27]="MOVE_KOOKJIN_TO_PEE",_[_.GAME_RESULT=28]="GAME_RESULT",_[_.PLAYER_ORDER_RESULT=29]="PLAYER_ORDER_RESULT",_[_.START_TURN=98]="START_TURN",_[_.TURN_END=100]="TURN_END",_[_.END=101]="END",_}({})),_("PLAYER_SELECT_CARD_RESULT",function(_){return _[_.COMPLETED=0]="COMPLETED",_[_.CHOICE_ONE_CARD_FROM_PLAYER=1]="CHOICE_ONE_CARD_FROM_PLAYER",_[_.CHOICE_ONE_CARD_FROM_DECK=2]="CHOICE_ONE_CARD_FROM_DECK",_[_.ERROR_INVALID_CARD=3]="ERROR_INVALID_CARD",_}({})),_("CARD_EVENT_TYPE",function(_){return _[_.NONE=0]="NONE",_[_.KISS=1]="KISS",_[_.PPUK=2]="PPUK",_[_.DDADAK=3]="DDADAK",_[_.BOMB=4]="BOMB",_[_.CLEAN=5]="CLEAN",_[_.EAT_PPUK=6]="EAT_PPUK",_[_.SELF_EAT_PPUK=7]="SELF_EAT_PPUK",_[_.SHAKING=8]="SHAKING",_}({})),_("TURN_RESULT_TYPE",function(_){return _[_.RESULT_OF_NORMAL_CARD=0]="RESULT_OF_NORMAL_CARD",_[_.RESULT_OF_BOMB_CARD=1]="RESULT_OF_BOMB_CARD",_}({}));E._RF.pop()}}}));

System.register("chunks:///_virtual/test.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CRestApi.ts"],(function(e){var t,n,r,i,o,c,a,s,u,l,f,p,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty,r=e.inheritsLoose,i=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose,c=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,l=e.Node,f=e.Component,p=e.Animation},function(e){b=e.CRestApi}],execute:function(){var h,I,m,y,g,v,d,w,M,x,J;s._RF.push({},"09dda4YYbVOKoxQFfZkJAg7","test",void 0);var z=u.ccclass,C=u.property,V=function(){function e(){}return e.do=function(){this.number=3,console.log(e.number)},e}();V.number=0;var O=z("TestAttr")((m=t((I=function(){n(this,"name",m,this),n(this,"num",y,this)}).prototype,"name",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=t(I.prototype,"num",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=I))||h;function T(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}e("test",(g=z("test"),v=C(l),d=C(O),g((x=t((M=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,n(t,"eff",x,i(t)),n(t,"attrs",J,i(t)),t}r(t,e);var s=t.prototype;return s.testAsync=function(){var e=c(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiJpbnRlcjEwIiwidXNlcm5hbWUiOiLsnKTrj5ntnawiLCJpYXQiOjE3MTcwMzYzNjUsImV4cCI6MTcxNzY0MTE2NX0.gXM-J6kfMSevucrVdH4DIV_r5OVgc2VySh0M6R8uAuI",e.t0=console,e.next=4,b.user("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiJpbnRlcjEwIiwidXNlcm5hbWUiOiLsnKTrj5ntnawiLCJpYXQiOjE3MTcwMzYzNjUsImV4cCI6MTcxNzY0MTE2NX0.gXM-J6kfMSevucrVdH4DIV_r5OVgc2VySh0M6R8uAuI");case 4:return e.t1=e.sent,e.t0.log.call(e.t0,e.t1),e.next=8,T(1e3);case 8:return e.t2=console,e.next=11,b.gameInfo();case 11:return e.t3=e.sent,e.t2.log.call(e.t2,e.t3),e.next=15,T(1e3);case 15:return e.t4=console,e.next=18,b.freeCount();case 18:return e.t5=e.sent,e.t4.log.call(e.t4,e.t5),e.next=22,T(1e3);case 22:return e.t6=console,e.next=25,b.freeMoney();case 25:e.t7=e.sent,e.t6.log.call(e.t6,e.t7),t=0;case 28:if(!(t<10)){e.next=35;break}return this.eff&&(this.eff.active=!1,this.eff.active=!0,(n=this.eff.getComponent(p))&&(n.stop(),n.play())),e.next=32,T(1e3);case 32:++t,e.next=28;break;case 35:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.start=function(){this.testAsync();var e=new Map;e.set("a",[2,3,4]),e.set("b",[2,3,4]),console.log(e.a,e[0]);for(var t,n=o(e);!(t=n()).done;){var r=t.value;e.set(r[0],[])}console.log(e),V.do()},s.update=function(e){},t}(f)).prototype,"eff",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(M.prototype,"attrs",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=M))||w));s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});